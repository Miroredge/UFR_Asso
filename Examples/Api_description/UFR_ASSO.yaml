openapi: 3.0.1

# https://blog.readme.io/an-example-filled-guide-to-swagger-3-2/

# YAML to JSON
# https://onlineyamltools.com/convert-yaml-to-json

# YAML Schema validator
# https://editor.swagger.io/
# https://apitools.dev/swagger-parser/online/
# https://www.apimatic.io/

# JSON 'sample' generator
# https://www.liquid-technologies.com/online-schema-to-json-converter
# https://app.swaggerhub.com/welcome

# JSON 'sample' validator
# https://www.jsonschemavalidator.net/
# https://jsonschemalint.com/#!/version/draft-07/markup/json

# Conditional 'Required'
# https://stackoverflow.com/questions/40477704/json-schema-conditional-dependency-by-value

# What is a ...
# - Number   : Technical Identifier
# - Quantity : Number of items
# - Code     : Identifier in a limited list, available in a Master Data repository
# - Name     : Actual name of the entity

# Naming rules
# ------------
# The name of an API appears on the detail of a service in the Service Registry as well as in the TITLE of the associated Swagger.
# An API should be named by its functional domain - subdomain.
# <Domain> - <Subdomain> (exceptional: - <Backend>)
# In the case of an API who is not the repository for the entire functional domain-subdomain on which it is involved, the scope must be defined by a perimeter. => For example: suffix the name of the provider / Backend
# API names are:
#  - in English
#  - Acronym-less (except if acronym have more sense than explicit name)
#  - both in the swagger and in the SR
#  Ex:
#   - Supply Chain - Parts provisionning - Logistic Parts
#   - After sales - parts sales (formerly "PARTS Orders")
# Description rules
# Golden rules:
#  - ALWAYS define acronyms
#  - Readable for a "beginner" off the project
#  - Not technical
#  - In English
#  - Functional description of the service - generic and not related to the consumer (s)
# Description themes:
#  - Description of the functional domain
#  - Description of ressources
#  - Description of the provided services
#  - Positioning of the API in the SI (data source in functional sense, business context)
# Optional:
#  - Useful contacts
#  - Service Level Agreements (eg: number of calls for time slot, opening hours of the service, availability ...)
#  - Practical information on the versions on display (What's news, Miscellaneous, features)

# /!\ In examples, if the type is String, you must give the surrounding "
# WRONG :
#  example: TEST
# CORRECT :
#  example: "TEST"

# Header variables :
# Must follow the RFC (https://www.rfc-editor.org/rfc/rfc9110.html)
# 4.2 Message Headers
# Each header field consists of a name followed by a colon (":") and the field value. 
# /!\ /!\ /!\ /!\ /!\ /!\ /!\ /!\ /!\ /!\  /!\
# /!\ The field names are case-insensitive /!\ 
# /!\ /!\ /!\ /!\ /!\ /!\ /!\ /!\ /!\ /!\  /!\

############################################################
#                    CONTRACT INFORMATION                  #
############################################################
info:
  title: Student Union manager
  description: >-
    
    - _**TO DO**_ : 
      - Hash the password + Salt in the database
      - /users/{pseudo} : PUT/PATCH on 'User' for password update
      - /users/{pseudo} : PUT/PATCH on 'User' for 'APP_ADMIN' roles
      - /users/{pseudo} : PUT on every other fields ?
      - /users/{pseudo}/organisations/{siretNumber}/roles : DELETE supprimer tous les r�les
      - /users/{pseudo}/organisations/{siretNumber}/roles : PUT pur modifier les r�les ? Cr�ation/Suppression ?
    
    - Description of the functional domain  
    
      A *Student Union*, aka *Bureau des Eleves* in the French-speaking world, is a student association gathering students from one or more faculties within a university or college.
      
      The *Student Union* is responsible for organizing extracurricular activities such as :
      - Welcoming new students
      - `EVENTs`
        - Student parties
        - Sports meetings
        - Cultural events
      - Other various activities, including the management of cafeterias or student cooperatives
      
      It often represents its members within the various faculty and university institutions.
      
    - Description of ressources  
    
      A `USER` is anybody from the univeristy (Professor, Student, ...) or somebody not directly related to the University.
      
      Any **User** can subscribe to the application.
      
      A **User** can declare a *Student Union* or register to an existing *Student Union*.
      Its request will be then checked and it may become a member of the *Student Union* after he paid the subscription fee.
      
      Some **User** have specific `ROLE`s in the *Student Union* (Administrator, President, ...)  
      
      Here, an `ORGANISATION` is a *Student Union*, defined by its [SIRET](https://fr.wikipedia.org/wiki/Syst%C3%A8me_d%27identification_du_r%C3%A9pertoire_des_%C3%A9tablissements) number.
      
      On a *Student Union*, some additional information can be recorded , such as the *Opening hours*, the list of `BookEntry` of the bugdet.
      
      Some *Student Union* are also publishing `NEWSLETTERs`. A *newsletter* is used to share relevant and valuable information with their network of subscribers.
      
      For example, these *Newsletters* could be used to communicate about `EVENTS`, giving their date, meeting place, registration fee, or start and end time.
      
      Regardless of his organisations, any **User** can attend to an `EVENT` declared by a *Student Union* 
      
    - Documentation  
    
      - [Bureau des Eleves (fr)](https://fr.wikipedia.org/wiki/Association_facultaire)
      - [GitHub](https://github.com/Miroredge/UFR_Asso)    

  version: '0.1'
  license:
    name: (C) Unity fo Training & Research / Unit� de Formation et de Recherche (UFR) - Promotion L2 2022/2023
  contact:
    email: maximilien.poncet@etu.univ-tours.fr
    name: University of Blois
    url: 'https://iut-blois.univ-tours.fr/version-francaise/le-site-universitaire-de-blois'

externalDocs:
  url: 'https://www.studyrama.com/vie-etudiante/s-engager-dans-une-association-etudiante/les-bureaux-des-eleves-bde'
  description: F�deration Fran�aise des Bureaux des Eleves


############################################################
#                     S E R V E R S                        #
############################################################
servers:

  - url: https://maximilien.poncet.free.fr/tst/{basePath}/{version}
    description: Test
    variables:
      basePath:
        default: 'ufr_asso'
      version:
        default: 'v1'

  - url: https://maximilien.poncet.free.fr/api/{basePath}/{version}
    description: Production
    variables:
      basePath:
        default: 'ufr_asso'
      version:
        default: 'v1'

################################################################################
#                                   Tags                                       #
################################################################################
tags:
  - name : User
    externalDocs:
      url: ''
    description: User declared in the application identified uniquely by its _**pseudo**_
  - name : Role
    externalDocs:
      url: ''
    description: Role associated to a User in an Organisation
  - name : Organisation
    externalDocs:
      url: 'https://en.wikipedia.org/wiki/Students%27_union'
    description: Student Union identified uniquely by its _**siretNumber**_
  - name : Opening hour
    externalDocs:
      url: ''
    description: Opening hours of the Organisation
  - name : Newsletter
    externalDocs:
      url: 'https://en.wikipedia.org/wiki/Newsletter'
    description: Newsletter published by an Organisation
  - name : BookEntry
    externalDocs:
      url: ''
    description: Accounting operations of an Organisation
  - name : Event
    externalDocs:
      url: ''
    description: Event organised by an Organisation
  - name: Common
    externalDocs:
      url: ''
    description: Common API
  - name: Authentication
    externalDocs:
      url: ''
    description: Authentication API

############################################################
#                       R E S O U R C E S                  #
############################################################
paths:

# ====================================
  '/users':
# ====================================
# POST  #
# ----- #

    post:
      tags:
        - User
      summary: Create a 'User'
      description: This operation allows the creation of a new 'User' with the no role
      externalDocs:
        url: ''
      operationId: createUser
      security:
        - OauthSecurity:
            - All
            - Application_Admin
            - Organisation_Admin
            - Organisation_Member
            - Organisation_Candidate
            - Organisation_Refused
            - Organisation_President
            - Organisation_VicePresident
            - Organisation_Secretary
            - Organisation_Treasurer

      parameters:

      # HEADER
      # -------------

        # Host
        - name: Host
          description: Network location of the URI
          required: true
#          nullable: false
          in: header
          schema:
            type: string
          example: www.google.com

      # PATH
      # -------------


      # QUERY
      # -------------


      # BODY
      # -------------

      # User details
      requestBody:
        description: User detailled content
        required: true
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/User'
                - type: object
                  properties:
                    # Password
                    password:
                      description: Password used to identify the user on the plateform
                      type: string
                      minLength: 5
                      maxLength: 200
                      example: "jhqsflljhsge5136534"
            examples:
              CreateUser:
                $ref: '#/components/examples/CreateUser'

      # RESPONSES
      # -------------

      responses:
        '201':
          $ref: '#/components/responses/UserCreated'

        # Definition of all error statuses
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden' 
        '404':
          $ref: '#/components/responses/NotFound' 
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalError'
        '501': 
          $ref: '#/components/responses/NotImplemented'
        '502':
          $ref: '#/components/responses/BadGateway'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'

        # Definition of other error status
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'

# ====================================
  '/users/{pseudo}':
# ====================================
# GET   #
# ----- #

    get:
      tags:
        - User
      summary: Get a single 'User'
      description: This operation allows to get a 'User', according to its unique identifier (pseudo)
      externalDocs:
        url: ''
      operationId: getUserByPseudo
      security:
        - OauthSecurity:
            - All
            - Application_Admin
            - Organisation_Admin
            - Organisation_Member
            - Organisation_Candidate
            - Organisation_Refused
            - Organisation_President
            - Organisation_VicePresident
            - Organisation_Secretary
            - Organisation_Treasurer

      parameters:

      # HEADER
      # -------------

        # Host
        - name: Host
          description: Network location of the URI
          required: true
#          nullable: false
          in: header
          schema:
            type: string
          example: ufr-api.ops.google.com


      # PATH
      # -------------

        # User login
        - name: pseudo
          description: Unique ID of the User
          required: true
#          nullable: false
          in: path
          schema:
            type: string
            minLength: 5
            maxLength: 50
          example: "MirorEdge38"

      # QUERY
      # -------------


      # RESPONSES
      # -------------

      responses:
        '200':
          $ref: '#/components/responses/UserFound'

        # Definition of all error statuses
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden' 
        '404':
          $ref: '#/components/responses/NotFound' 
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalError'
        '501': 
          $ref: '#/components/responses/NotImplemented'
        '502':
          $ref: '#/components/responses/BadGateway'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'

        # Definition of other error status
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'

# ====================================
# DELETE #
# ------ #

    delete:
      tags:
        - User
      summary: Delete a `User`
      description: This operation allows to delete a `User`, identified by its unique identifier **pseudo**
      externalDocs:
        url: ''
      operationId: deleteUser
      security:
        - OauthSecurity:
            - All
            - Application_Admin
            - Organisation_Admin
            - Organisation_Member
            - Organisation_Candidate
            - Organisation_Refused
            - Organisation_President
            - Organisation_VicePresident
            - Organisation_Secretary
            - Organisation_Treasurer

      parameters:

      # HEADER
      # -------------

        # Host
        - name: Host
          description: Network location of the URI
          required: true
#          nullable: false
          in: header
          schema:
            type: string
          example: ufr-api.ops.google.com


      # PATH
      # -------------

        # User login
        - name: pseudo
          description: Unique ID of the User
          required: true
#          nullable: false
          in: path
          schema:
            type: string
            minLength: 5
            maxLength: 50
          example: "MirorEdge38"

          
      # QUERY
      # -------------


      # RESPONSES
      # -------------

      responses:
        '204':
          $ref: '#/components/responses/NoContent'

        # Definition of all error statuses
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden' 
        '404':
          $ref: '#/components/responses/NotFound' 
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalError'
        '501': 
          $ref: '#/components/responses/NotImplemented'
        '502':
          $ref: '#/components/responses/BadGateway'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'

        # Definition of other error status
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'


# ====================================
  '/users/{pseudo}/organisations':
# ====================================
# POST  #
# ----- #

    post:
      tags:
        - User
      summary: Create a subscription to an `Organisation` for a `User`
      description: This operation allows to create for the `User`, identified by its unique identifier **pseudo**, a subscription to the `Organisation` provided in the request
      externalDocs:
        url: ''
      operationId: createUserSubscriptionToOrganisation
      security:
        - OauthSecurity:
            - All
            - Application_Admin
            - Organisation_Admin
            - Organisation_Member
            - Organisation_Candidate
            - Organisation_Refused
            - Organisation_President
            - Organisation_VicePresident
            - Organisation_Secretary
            - Organisation_Treasurer

      parameters:

      # HEADER
      # -------------

        # Host
        - name: Host
          description: Network location of the URI
          required: true
#          nullable: false
          in: header
          schema:
            type: string
          example: ufr-api.ops.google.com


      # PATH
      # -------------

        # User login
        - name: pseudo
          description: Unique ID of the User
          required: true
#          nullable: false
          in: path
          schema:
            type: string
            minLength: 5
            maxLength: 50
          example: "MirorEdge38"

      # QUERY
      # -------------



      # BODY
      # -------------

      # Organisation details
      requestBody:
        description: Organisation detailled content
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OrganisationReduced'
            examples:
              CreateUserSubscriptionToOrganisation:
                $ref: '#/components/examples/CreateUserSubscriptionToOrganisation'

      # RESPONSES
      # -------------

      responses:
        '201':
          $ref: '#/components/responses/UserSubscriptionToOrganisationCreated'

        # Definition of all error statuses
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden' 
        '404':
          $ref: '#/components/responses/NotFound' 
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalError'
        '501': 
          $ref: '#/components/responses/NotImplemented'
        '502':
          $ref: '#/components/responses/BadGateway'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'

        # Definition of other error status
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'

# ====================================
# GET   #
# ----- #

    get:
      tags:
        - User
        - Organisation
      summary: Get the list of `Organisation` associated to a `User` - "Page" base pagination
      description: This operation allows to get the list of the `Organisation` associated to a `User`, identified by its unique identifier **pseudo**
      externalDocs:
        url: ''
      operationId: getListOfOrganisationsOfUser
      security:
        - OauthSecurity:
            - All
            - Application_Admin
            - Organisation_Admin
            - Organisation_Member
            - Organisation_Candidate
            - Organisation_Refused
            - Organisation_President
            - Organisation_VicePresident
            - Organisation_Secretary
            - Organisation_Treasurer

      parameters:

      # HEADER
      # -------------

        # Host
        - name: Host
          description: Network location of the URI
          required: true
#          nullable: false
          in: header
          schema:
            type: string
          example: ufr-api.ops.google.com

      # PATH
      # -------------

        # User login
        - name: pseudo
          description: Unique ID of the User
          required: true
#          nullable: false
          in: path
          schema:
            type: string
            minLength: 5
            maxLength: 50

      # QUERY
      # -------------

        - in: query
          name: roles
          required: false
          schema:
            type: string
          description: >
            Search for all `Users` having the given 'Roles' (case insensitive) in the 'Organisation'.
            If provided, the value of this parameter must be a comma-separated list of roles.
            Wildcard '\*' **CANNOT** be used. 
          example:
            - roles=CANDIDATE

        - in: query
          name: fields
          required: false
          schema:
            type: string
          description: >
            Retrieve only a subset of fields of the resource (case sensitive)
            If provided, the value of this parameter must be a comma-separated list of top-level response message fields.
            If not provided, all the representation is returned.
          example:
            fields=siretNumber,name

        - in: query
          name: embed
          required: false
          schema:
            type: string
          description: >
            Retrieve in the response the related embedded resource representations.
            If provided, the value of this parameter must be a comma-separated list of relation identifiers.
            If not provided, only the ressource is returned.
          example:
            embed=(roles)
            
        - in: query
          name: page
          required: false
          schema:
            type: integer
            default: 1
            minimum: 1
          description: >
            Indicates the page number to be returned.
            `pageSize` may be used with `page` to set the number of items per page.
        - in: query
          name: pageSize
          required: false
          schema:
            type: integer
            default: 10
            minimum: 1
            maximum: 50
          description: >
            Indicates the size of each page (number of items per page).
            Can only be used together with `page`.
            
            
      # RESPONSES
      # -------------

      responses:
        '200':
          $ref: '#/components/responses/ListOfOrganisationsOfUserFound_PageBasedPagination'

        # Definition of all error statuses
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden' 
        '404':
          $ref: '#/components/responses/NotFound' 
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalError'
        '501': 
          $ref: '#/components/responses/NotImplemented'
        '502':
          $ref: '#/components/responses/BadGateway'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'

        # Definition of other error status
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'

# ====================================
  '/users/{pseudo}/organisations/{siretNumber}':
# ====================================
# DELETE #
# ------ #

    delete:
      tags:
        - User
      summary: Delete a subscription to an `Organisation` for a `User`
      description: This operation allows to delete for the `User`, identified by its unique identifier **pseudo**, a subscription to the `Organisation`, identified by its unique identifier **siretNumber**
      externalDocs:
        url: ''
      operationId: deleteUserSubscriptionToOrganisation
      security:
        - OauthSecurity:
            - All
            - Application_Admin
            - Organisation_Admin
            - Organisation_Member
            - Organisation_Candidate
            - Organisation_Refused
            - Organisation_President
            - Organisation_VicePresident
            - Organisation_Secretary
            - Organisation_Treasurer

      parameters:

      # HEADER
      # -------------

        # Host
        - name: Host
          description: Network location of the URI
          required: true
#          nullable: false
          in: header
          schema:
            type: string
          example: ufr-api.ops.google.com


      # PATH
      # -------------

        # User login
        - name: pseudo
          description: Unique ID of the User
          required: true
#          nullable: false
          in: path
          schema:
            type: string
            minLength: 5
            maxLength: 50
          example: "MirorEdge38"

        # SIRET
        - name: siretNumber
          description: Unique ID of the Organisation
          required: true
#          nullable: false
          in: path
          schema:
            type: string
            minLength: 14
            maxLength: 14
          example: "12482313546354"
          
      # QUERY
      # -------------


      # RESPONSES
      # -------------

      responses:
        '204':
          $ref: '#/components/responses/NoContent'

        # Definition of all error statuses
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden' 
        '404':
          $ref: '#/components/responses/NotFound' 
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalError'
        '501': 
          $ref: '#/components/responses/NotImplemented'
        '502':
          $ref: '#/components/responses/BadGateway'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'

        # Definition of other error status
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'

# ====================================
  '/users/{pseudo}/organisations/{siretNumber}/roles':
# ====================================
# GET   #
# ----- #

    get:
      tags:
        - User
        - Role
      summary: Get the list of `Roles` of a `User` in a given `Organisation`
      description: This operation allows to the list of `Roles` of a `User`, identified by its unique identifier **pseudo**, in an `Organisation`, identified by its unique identifier **siretNumber**
      externalDocs:
        url: ''
      operationId: getRolesOfUserInOrganisation
      security:
        - OauthSecurity:
            - All
            - Application_Admin
            - Organisation_Admin
            - Organisation_Member
            - Organisation_Candidate
            - Organisation_Refused
            - Organisation_President
            - Organisation_VicePresident
            - Organisation_Secretary
            - Organisation_Treasurer

      parameters:

      # HEADER
      # -------------

        # Host
        - name: Host
          description: Network location of the URI
          required: true
#          nullable: false
          in: header
          schema:
            type: string
          example: ufr-api.ops.google.com


      # PATH
      # -------------

        # User login
        - name: pseudo
          description: Unique ID of the User
          required: true
#          nullable: false
          in: path
          schema:
            type: string
            minLength: 5
            maxLength: 50
          example: "MirorEdge38"

        # SIRET
        - name: siretNumber
          description: Unique ID of the Organisation
          required: true
#          nullable: false
          in: path
          schema:
            type: string
            minLength: 14
            maxLength: 14
          example: "12482313546354"
          
      # QUERY
      # -------------


      # RESPONSES
      # -------------

      responses:
        '200':
          $ref: '#/components/responses/RolesOfUserInOrganisationFound'

        # Definition of all error statuses
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden' 
        '404':
          $ref: '#/components/responses/NotFound' 
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalError'
        '501': 
          $ref: '#/components/responses/NotImplemented'
        '502':
          $ref: '#/components/responses/BadGateway'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'

        # Definition of other error status
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'

# ====================================
# PUT   #
# ----- #

    put:
      tags:
        - User
        - Role
      summary: Update the list of `Roles` of a `User` in a given `Organisation`
      description: This operation allows to update the list of `Roles` of a `User`, identified by its unique identifier **pseudo**, in an `Organisation`, identified by its unique identifier **siretNumber**
      externalDocs:
        url: ''
      operationId: updateRolesOfUserInOrganisation
      security:
        - OauthSecurity:
            - All
            - Application_Admin
            - Organisation_Admin
            - Organisation_Member
            - Organisation_Candidate
            - Organisation_Refused
            - Organisation_President
            - Organisation_VicePresident
            - Organisation_Secretary
            - Organisation_Treasurer

      parameters:

      # HEADER
      # -------------

        # Host
        - name: Host
          description: Network location of the URI
          required: true
#          nullable: false
          in: header
          schema:
            type: string
          example: ufr-api.ops.google.com

      # PATH
      # -------------

        # User login
        - name: pseudo
          description: Unique ID of the User
          required: true
#          nullable: false
          in: path
          schema:
            type: string
            minLength: 5
            maxLength: 50
          example: "MirorEdge38"

        # SIRET
        - name: siretNumber
          description: Unique ID of the Organisation
          required: true
#          nullable: false
          in: path
          schema:
            type: string
            minLength: 14
            maxLength: 14
          example: "12482313546354"
          
      # QUERY
      # -------------


      # BODY
      # -------------

      # Organisation details
      requestBody:
        description: List of roles
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                roles:
                  description: List of roles
                  type: array
                  items :
                    $ref: '#/components/schemas/RoleType'
            examples:
              UpdateRolesOfUserInOrganisation:
                $ref: '#/components/examples/UpdateRolesOfUserInOrganisation'

      # RESPONSES
      # -------------

      responses:
        '200':
          $ref: '#/components/responses/RolesOfUserInOrganisationUpdated'

        # Definition of all error statuses
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden' 
        '404':
          $ref: '#/components/responses/NotFound' 
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalError'
        '501': 
          $ref: '#/components/responses/NotImplemented'
        '502':
          $ref: '#/components/responses/BadGateway'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'

        # Definition of other error status
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'

# ====================================
  '/organisations':
# ====================================
# POST  #
# ----- #

    post:
      tags:
        - Organisation
      summary: Create an 'Organisation' (aka Student Union)
      description: >-
        This operation allows a 'User' to the create of a new 'Organanisation'
        The 'User' becomes the 'ADMIN' of the 'Organisation'
      externalDocs:
        url: ''
      operationId: createOrganisation
      security:
        - OauthSecurity:
            - All
            - Application_Admin
            - Organisation_Admin
            - Organisation_Member
            - Organisation_Candidate
            - Organisation_Refused
            - Organisation_President
            - Organisation_VicePresident
            - Organisation_Secretary
            - Organisation_Treasurer

      parameters:

      # HEADER
      # -------------

        # Host
        - name: Host
          description: Network location of the URI
          required: true
#          nullable: false
          in: header
          schema:
            type: string
          example: www.google.com

      # PATH
      # -------------


      # QUERY
      # -------------


      # BODY
      # -------------

      # Organisation details
      requestBody:
        description: Organisation detailled content
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - user
              properties:
                user:
                  $ref: '#/components/schemas/Organisation'
            examples:
              CreateOrganisation:
                $ref: '#/components/examples/CreateOrganisation'

      # RESPONSES
      # -------------

      responses:
        '201':
          $ref: '#/components/responses/OrganisationCreated'

        # Definition of all error statuses
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden' 
        '404':
          $ref: '#/components/responses/NotFound' 
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalError'
        '501': 
          $ref: '#/components/responses/NotImplemented'
        '502':
          $ref: '#/components/responses/BadGateway'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'

        # Definition of other error status
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'

# ====================================
# GET   #
# ----- #

    get:
      tags:
        - Organisation
      summary: Get the list of all the 'Organisations' - "Page" base pagination
      description: This operation allows to get the list of 'Organisations' using a "Page" base pagination
      externalDocs:
        url: ''
      operationId: getListOfOrganisationsFound_PageBasedPagination
      security:
        - OauthSecurity:
            - All
            - Application_Admin
            - Organisation_Admin
            - Organisation_Member
            - Organisation_Candidate
            - Organisation_Refused
            - Organisation_President
            - Organisation_VicePresident
            - Organisation_Secretary
            - Organisation_Treasurer

      parameters:

      # HEADER
      # -------------

        # Host
        - name: Host
          description: Network location of the URI
          required: true
#          nullable: false
          in: header
          schema:
            type: string
          example: ufr-api.ops.google.com

      # PATH
      # -------------


      # QUERY
      # -------------

        - in: query
          name: name
          required: false
          schema:
            type: string
          description: >
            Search for all `Organisation` matching the given value (case insensitive).
            Wildcard '\*' can be used. 
          example:
            - name=ABEI
            - name=ab*
            - name=*ei
            - name=a*i
            - name=*Be*

        - in: query
          name: fields
          required: false
          schema:
            type: string
          description: >
            Retrieve only a subset of fields of the resource (case sensitive).
            If provided, the value of this parameter must be a comma-separated list of top-level response message fields.
            If not provided, all the representation is returned.
          example:
            fields=name,location,siretNumber

#        - in: query
#          name: embed
#          required: false
#          schema:
#            type: string
#          description: >
#            Retrieve in the response the related embedded resource representations.
#            If provided, the value of this parameter must be a comma-separated list of relation identifiers.
#            If not provided, only the ressource is returned.
#          example:
#            embed=(roles)
            
        - in: query
          name: page
          required: false
          schema:
            type: integer
            default: 1
            minimum: 1
          description: >
            Indicates the page number to be returned.
            `pageSize` may be used with `page` to set the number of items per page.
        - in: query
          name: pageSize
          required: false
          schema:
            type: integer
            default: 10
            minimum: 1
            maximum: 50
          description: >
            Indicates the size of each page (number of items per page).
            Can only be used together with `page`.

      # RESPONSES
      # -------------

      responses:
        '200':
          $ref: '#/components/responses/ListOfOrganisationsFound_PageBasedPagination'

        # Definition of all error statuses
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden' 
        '404':
          $ref: '#/components/responses/NotFound' 
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalError'
        '501': 
          $ref: '#/components/responses/NotImplemented'
        '502':
          $ref: '#/components/responses/BadGateway'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'

        # Definition of other error status
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'



#    get:
#      tags:
#        - Organisation
#      summary: Get the list of all the 'Organisations' - "Offset/Limit" base pagination
#      description: This operation allows to get the list of 'Organisations' using a "Offset/Limit" base pagination
#      externalDocs:
#        url: ''
#      operationId: getListOfOrganisationsFound_OffsetLimitBasedPagination
#      security:
#        - OauthSecurity:
#            - All
#            - Application_Admin
#            - Organisation_Admin
#            - Organisation_Member
#            - Organisation_Candidate
#            - Organisation_Refused
#            - Organisation_President
#            - Organisation_VicePresident
#            - Organisation_Secretary
#            - Organisation_Treasurer
#
#      parameters:
#
#      # HEADER
#      # -------------
#
#        # Host
#        - name: Host
#          description: Network location of the URI
#          required: true
##          nullable: false
#          in: header
#          schema:
#            type: string
#          example: ufr-api.ops.google.com
#
#      # PATH
#      # -------------
#
#
#      # QUERY
#      # -------------
#
#        - in: query
#          name: offset
#          required: false
#          schema:
#            type: integer
#            default: 1
#            minimum: 1
#          description: >
#            Indicates the first item position from which to start returning records from the entire set of results.
#            `limit` may be used with `offset` to set the number of items to be returned.
#
#        - in: query
#          name: limit
#          required: false
#          schema:
#            type: integer
#            default: 10
#            minimum: 0
#            maximum: 50
#          description: >
#            Indicates the number of items to be returned.
#            Can only be used together with `offset`.
#
#      # RESPONSES
#      # -------------
#
#      responses:
#        '200':
#          $ref: '#/components/responses/ListOfOrganisationsFound_OffsetLimitBasedPagination'
#
#        # Definition of all error statuses
#        '400':
#          $ref: '#/components/responses/BadRequest'
#        '401':
#          $ref: '#/components/responses/Unauthorized'
#        '403':
#          $ref: '#/components/responses/Forbidden' 
#        '404':
#          $ref: '#/components/responses/NotFound' 
#        '422':
#          $ref: '#/components/responses/UnprocessableEntity'
#        '429':
#          $ref: '#/components/responses/TooManyRequests'
#        '500':
#          $ref: '#/components/responses/InternalError'
#        '501': 
#          $ref: '#/components/responses/NotImplemented'
#        '502':
#          $ref: '#/components/responses/BadGateway'
#        '503':
#          $ref: '#/components/responses/ServiceUnavailable'
#
#        # Definition of other error status
#        default:
#          description: Unexpected error
#          content:
#            application/json:
#              schema:
#                $ref: '#/components/schemas/Errors'

# ====================================
  '/organisations/{siretNumber}':
# ====================================
# GET   #
# ----- #

    get:
      tags:
        - Organisation
      summary: Get a single 'Organisation'
      description: This operation allows to get an 'Organisation'
      externalDocs:
        url: ''
      operationId: getOrganisationBySiret
      security:
        - OauthSecurity:
            - All
            - Application_Admin
            - Organisation_Admin
            - Organisation_Member
            - Organisation_Candidate
            - Organisation_Refused
            - Organisation_President
            - Organisation_VicePresident
            - Organisation_Secretary
            - Organisation_Treasurer

      parameters:

      # HEADER
      # -------------

        # Host
        - name: Host
          description: Network location of the URI
          required: true
#          nullable: false
          in: header
          schema:
            type: string
          example: ufr-api.ops.google.com

      # PATH
      # -------------

        # SIRET
        - name: siretNumber
          description: Unique ID of the Organisation
          required: true
#          nullable: false
          in: path
          schema:
            type: string
            minLength: 14
            maxLength: 14
          example: "12482313546354"

      # QUERY
      # -------------


      # RESPONSES
      # -------------

      responses:
        '200':
          $ref: '#/components/responses/OrganisationFound'

        # Definition of all error statuses
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden' 
        '404':
          $ref: '#/components/responses/NotFound' 
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalError'
        '501': 
          $ref: '#/components/responses/NotImplemented'
        '502':
          $ref: '#/components/responses/BadGateway'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'

        # Definition of other error status
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'

# ====================================
# DELETE #
# ------ #

    delete:
      tags:
        - Organisation
      summary: Delete an `Organisation`
      description: This operation allows to delete an `Organisation`, identified by its unique identifier **siretNumber**
      externalDocs:
        url: ''
      operationId: deleteOrganisation
      security:
        - OauthSecurity:
            - All
            - Application_Admin
            - Organisation_Admin
            - Organisation_Member
            - Organisation_Candidate
            - Organisation_Refused
            - Organisation_President
            - Organisation_VicePresident
            - Organisation_Secretary
            - Organisation_Treasurer

      parameters:

      # HEADER
      # -------------

        # Host
        - name: Host
          description: Network location of the URI
          required: true
#          nullable: false
          in: header
          schema:
            type: string
          example: ufr-api.ops.google.com


      # PATH
      # -------------

        # SIRET
        - name: siretNumber
          description: Unique ID of the Organisation
          required: true
#          nullable: false
          in: path
          schema:
            type: string
            minLength: 14
            maxLength: 14
          example: "12482313546354"
          
      # QUERY
      # -------------


      # RESPONSES
      # -------------

      responses:
        '204':
          $ref: '#/components/responses/NoContent'

        # Definition of all error statuses
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden' 
        '404':
          $ref: '#/components/responses/NotFound' 
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalError'
        '501': 
          $ref: '#/components/responses/NotImplemented'
        '502':
          $ref: '#/components/responses/BadGateway'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'

        # Definition of other error status
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'

# ====================================
  '/organisations/{siretNumber}/users':
# ====================================
# GET   #
# ----- #

    get:
      tags:
        - Organisation
      summary: Get the list of all the `Users` in an `Organisation` - "Page" base pagination
      description: This operation allows to get the list of `User` associated to an `Organisation`, identified by its unique identifier **siretNumber**
      externalDocs:
        url: ''
      operationId: getListOfUsersInOrganisation
      security:
        - OauthSecurity:
            - All
            - Application_Admin
            - Organisation_Admin
            - Organisation_Member
            - Organisation_Candidate
            - Organisation_Refused
            - Organisation_President
            - Organisation_VicePresident
            - Organisation_Secretary
            - Organisation_Treasurer

      parameters:

      # HEADER
      # -------------

        # Host
        - name: Host
          description: Network location of the URI
          required: true
#          nullable: false
          in: header
          schema:
            type: string
          example: ufr-api.ops.google.com

      # PATH
      # -------------

        # SIRET
        - name: siretNumber
          description: Unique ID of the Organisation
          required: true
#          nullable: false
          in: path
          schema:
            type: string
            minLength: 14
            maxLength: 14
          example: "12482313546354"

      # QUERY
      # -------------

        - in: query
          name: roles
          required: false
          schema:
            type: string
          description: >
            Search for all `Users` having the given 'Roles' (case insensitive) in the 'Organisation'.
            If provided, the value of this parameter must be a comma-separated list of roles.
            Wildcard '\*' **CANNOT** be used. 
          example:
            - roles=CANDIDATE

        - in: query
          name: fields
          required: false
          schema:
            type: string
          description: >
            Retrieve only a subset of fields of the resource (case sensitive)
            If provided, the value of this parameter must be a comma-separated list of top-level response message fields.
            If not provided, all the representation is returned.
          example:
            fields=pseudo,firstName,lastName

        - in: query
          name: embed
          required: false
          schema:
            type: string
          description: >
            Retrieve in the response the related embedded resource representations.
            If provided, the value of this parameter must be a comma-separated list of relation identifiers.
            If not provided, only the ressource is returned.
          example:
            embed=(roles)
            
        - in: query
          name: page
          required: false
          schema:
            type: integer
            default: 1
            minimum: 1
          description: >
            Indicates the page number to be returned.
            `pageSize` may be used with `page` to set the number of items per page.
        - in: query
          name: pageSize
          required: false
          schema:
            type: integer
            default: 10
            minimum: 1
            maximum: 50
          description: >
            Indicates the size of each page (number of items per page).
            Can only be used together with `page`.
            
            
      # RESPONSES
      # -------------

      responses:
        '200':
          $ref: '#/components/responses/ListOfUsersInOrganisationFound_PageBasedPagination'

        # Definition of all error statuses
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden' 
        '404':
          $ref: '#/components/responses/NotFound' 
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalError'
        '501': 
          $ref: '#/components/responses/NotImplemented'
        '502':
          $ref: '#/components/responses/BadGateway'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'

        # Definition of other error status
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'

# ====================================
  '/organisations/{siretNumber}/opening-hours':
# ====================================
# POST  #
# ----- #

    post:
      tags:
        - Opening hour
      summary: Declare an 'OpeningHour' time slot in an 'Organisation', identified by its unique identifier **siretNumber**
      description: This operation allows the creation of a new 'OpeningHour' time slot
      externalDocs:
        url: ''
      operationId: createOpeningHour
      security:
        - OauthSecurity:
            - All
            - Application_Admin
            - Organisation_Admin
            - Organisation_Member
            - Organisation_Candidate
            - Organisation_Refused
            - Organisation_President
            - Organisation_VicePresident
            - Organisation_Secretary
            - Organisation_Treasurer

      parameters:

      # HEADER
      # -------------

        # Host
        - name: Host
          description: Network location of the URI
          required: true
#          nullable: false
          in: header
          schema:
            type: string
          example: www.google.com

      # PATH
      # -------------

        # SIRET
        - name: siretNumber
          description: Unique ID of the Organisation
          required: true
#          nullable: false
          in: path
          schema:
            type: string
            minLength: 14
            maxLength: 14
          example: "12482313546354"

      # QUERY
      # -------------


      # BODY
      # -------------

      # User details
      requestBody:
        description: "'OpeningHour' detailled content"
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OpeningHour'
            examples:
              CreateOpeningHour:
                $ref: '#/components/examples/CreateOpeningHour'

      # RESPONSES
      # -------------

      responses:
        '201':
          $ref: '#/components/responses/OpeningHourCreated'

        # Definition of all error statuses
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden' 
        '404':
          $ref: '#/components/responses/NotFound' 
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalError'
        '501': 
          $ref: '#/components/responses/NotImplemented'
        '502':
          $ref: '#/components/responses/BadGateway'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'

        # Definition of other error status
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'

# ====================================
# GET   #
# ----- #

    get:
      tags:
        - Opening hour
      summary: Get the list of all the `OpeningHour` in an `Organisation` - "Page" base pagination
      description: This operation allows to get the list of `OpeningHour` associated to an `Organisation`, identified by its unique identifier **siretNumber**
      externalDocs:
        url: ''
      operationId: getListOfOpeningHourOfOrganisation
      security:
        - OauthSecurity:
            - All
            - Application_Admin
            - Organisation_Admin
            - Organisation_Member
            - Organisation_Candidate
            - Organisation_Refused
            - Organisation_President
            - Organisation_VicePresident
            - Organisation_Secretary
            - Organisation_Treasurer

      parameters:

      # HEADER
      # -------------

        # Host
        - name: Host
          description: Network location of the URI
          required: true
#          nullable: false
          in: header
          schema:
            type: string
          example: ufr-api.ops.google.com

      # PATH
      # -------------

        # SIRET
        - name: siretNumber
          description: Unique ID of the Organisation
          required: true
#          nullable: false
          in: path
          schema:
            type: string
            minLength: 14
            maxLength: 14
          example: "12482313546354"

      # QUERY
      # -------------

#        - in: query
#          name: fields
#          required: false
#          schema:
#            type: string
#          description: >
#            Retrieve only a subset of fields of the resource (case sensitive)
#            If provided, the value of this parameter must be a comma-separated list of top-level response message fields.
#            If not provided, all the representation is returned.
#          example:
#            fields=pseudo,firstName,lastName

#        - in: query
#          name: embed
#          required: false
#          schema:
#            type: string
#          description: >
#            Retrieve in the response the related embedded resource representations.
#            If provided, the value of this parameter must be a comma-separated list of relation identifiers.
#            If not provided, only the ressource is returned.
#          example:
#            embed=(roles)
            
        - in: query
          name: page
          required: false
          schema:
            type: integer
            default: 1
            minimum: 1
          description: >
            Indicates the page number to be returned.
            `pageSize` may be used with `page` to set the number of items per page.
        - in: query
          name: pageSize
          required: false
          schema:
            type: integer
            default: 10
            minimum: 1
            maximum: 50
          description: >
            Indicates the size of each page (number of items per page).
            Can only be used together with `page`.
    
      # RESPONSES
      # -------------

      responses:
        '200':
          $ref: '#/components/responses/ListOfOpeningHoursOfOrganisationFound_PageBasedPagination'

        # Definition of all error statuses
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden' 
        '404':
          $ref: '#/components/responses/NotFound' 
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalError'
        '501': 
          $ref: '#/components/responses/NotImplemented'
        '502':
          $ref: '#/components/responses/BadGateway'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'

        # Definition of other error status
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'

# ====================================
  '/opening-hours/{openingHourId}':
# ====================================
# GET   #
# ----- #

    get:
      tags:
        - Opening hour
      summary: Get a single `OpeningHour`
      description: This operation allows to get a `OpeningHour` time slot, identified by its unique identifier **openingHourId**
      externalDocs:
        url: ''
      operationId: getOpeningHourByID
      security:
        - OauthSecurity:
            - All
            - Application_Admin
            - Organisation_Admin
            - Organisation_Member
            - Organisation_Candidate
            - Organisation_Refused
            - Organisation_President
            - Organisation_VicePresident
            - Organisation_Secretary
            - Organisation_Treasurer

      parameters:

      # HEADER
      # -------------

        # Host
        - name: Host
          description: Network location of the URI
          required: true
#          nullable: false
          in: header
          schema:
            type: string
          example: ufr-api.ops.google.com

      # PATH
      # -------------

        # OpeningHour Unique ID
        - name: openingHourId
          description: Technical Unique ID of the 'OpeningHour' time slot (Base36 encoding) (https://en.wikipedia.org/wiki/Base36)
          required: true
#          nullable: false
          in: path
          schema:
            type: string
            minLength: 1
            maxLength: 8
          example: "1aw56"

      # QUERY
      # -------------


      # RESPONSES
      # -------------

      responses:
        '200':
          $ref: '#/components/responses/OpeningHourFound'

        # Definition of all error statuses
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden' 
        '404':
          $ref: '#/components/responses/NotFound' 
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalError'
        '501': 
          $ref: '#/components/responses/NotImplemented'
        '502':
          $ref: '#/components/responses/BadGateway'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'

        # Definition of other error status
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'

# ====================================
# DELETE #
# ------ #

    delete:
      tags:
        - Opening hour
      summary: Delete an `OpeningHour`
      description: This operation allows to delete an `OpeningHour`, identified by its unique identifier **openingHourId**
      externalDocs:
        url: ''
      operationId: deleteOpeningHour
      security:
        - OauthSecurity:
            - All
            - Application_Admin
            - Organisation_Admin
            - Organisation_Member
            - Organisation_Candidate
            - Organisation_Refused
            - Organisation_President
            - Organisation_VicePresident
            - Organisation_Secretary
            - Organisation_Treasurer

      parameters:

      # HEADER
      # -------------


        # Host
        - name: Host
          description: Network location of the URI
          required: true
#          nullable: false
          in: header
          schema:
            type: string
          example: ufr-api.ops.google.com


      # PATH
      # -------------

        # OpeningHour Unique ID
        - name: openingHourId
          description: Technical Unique ID of the 'OpeningHour time' slot (Base36 encoding) (https://en.wikipedia.org/wiki/Base36)
          required: true
#          nullable: false
          in: path
          schema:
            type: string
            minLength: 1
            maxLength: 8
          example: "1aw56"


      # QUERY
      # -------------


      # RESPONSES
      # -------------

      responses:
        '204':
          $ref: '#/components/responses/NoContent'

        # Definition of all error statuses
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden' 
        '404':
          $ref: '#/components/responses/NotFound' 
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalError'
        '501': 
          $ref: '#/components/responses/NotImplemented'
        '502':
          $ref: '#/components/responses/BadGateway'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'

        # Definition of other error status
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'


# ====================================
  '/organisations/{siretNumber}/newsletters':
# ====================================
# POST  #
# ----- #

    post:
      tags:
        - Newsletter
      summary: Add a 'Newsletter' to an 'Organisation', identified by its unique identifier **siretNumber**
      description: This operation allows the creation of a new 'Newsletter'
      externalDocs:
        url: ''
      operationId: createNewsletter
      security:
        - OauthSecurity:
            - All
            - Application_Admin
            - Organisation_Admin
            - Organisation_Member
            - Organisation_Candidate
            - Organisation_Refused
            - Organisation_President
            - Organisation_VicePresident
            - Organisation_Secretary
            - Organisation_Treasurer

      parameters:

      # HEADER
      # -------------

        # Host
        - name: Host
          description: Network location of the URI
          required: true
#          nullable: false
          in: header
          schema:
            type: string
          example: www.google.com

      # PATH
      # -------------

        # SIRET
        - name: siretNumber
          description: Unique ID of the Organisation
          required: true
#          nullable: false
          in: path
          schema:
            type: string
            minLength: 14
            maxLength: 14
          example: "12482313546354"

      # QUERY
      # -------------


      # BODY
      # -------------

      # User details
      requestBody:
        description: "'Newsletter' detailled content"
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Newsletter'
            examples:
              CreateNewsletter:
                $ref: '#/components/examples/CreateNewsletter'

      # RESPONSES
      # -------------

      responses:
        '201':
          $ref: '#/components/responses/NewsletterCreated'

        # Definition of all error statuses
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden' 
        '404':
          $ref: '#/components/responses/NotFound' 
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalError'
        '501': 
          $ref: '#/components/responses/NotImplemented'
        '502':
          $ref: '#/components/responses/BadGateway'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'

        # Definition of other error status
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'

# ====================================
# GET   #
# ----- #

    get:
      tags:
        - Newsletter
      summary: Get the list of all the `Newsletter` in an `Organisation` - "Page" base pagination
      description: This operation allows to get the list of `Newsletter` associated to an `Organisation`, identified by its unique identifier **siretNumber**
      externalDocs:
        url: ''
      operationId: getListOfNewslettersOfOrganisation
      security:
        - OauthSecurity:
            - All
            - Application_Admin
            - Organisation_Admin
            - Organisation_Member
            - Organisation_Candidate
            - Organisation_Refused
            - Organisation_President
            - Organisation_VicePresident
            - Organisation_Secretary
            - Organisation_Treasurer

      parameters:

      # HEADER
      # -------------

        # Host
        - name: Host
          description: Network location of the URI
          required: true
#          nullable: false
          in: header
          schema:
            type: string
          example: ufr-api.ops.google.com

      # PATH
      # -------------

        # SIRET
        - name: siretNumber
          description: Unique ID of the Organisation
          required: true
#          nullable: false
          in: path
          schema:
            type: string
            minLength: 14
            maxLength: 14
          example: "12482313546354"

      # QUERY
      # -------------

#        - in: query
#          name: fields
#          required: false
#          schema:
#            type: string
#          description: >
#            Retrieve only a subset of fields of the resource (case sensitive)
#            If provided, the value of this parameter must be a comma-separated list of top-level response message fields.
#            If not provided, all the representation is returned.
#          example:
#            fields=pseudo,firstName,lastName

#        - in: query
#          name: embed
#          required: false
#          schema:
#            type: string
#          description: >
#            Retrieve in the response the related embedded resource representations.
#            If provided, the value of this parameter must be a comma-separated list of relation identifiers.
#            If not provided, only the ressource is returned.
#          example:
#            embed=(roles)
            
        - in: query
          name: page
          required: false
          schema:
            type: integer
            default: 1
            minimum: 1
          description: >
            Indicates the page number to be returned.
            `pageSize` may be used with `page` to set the number of items per page.
        - in: query
          name: pageSize
          required: false
          schema:
            type: integer
            default: 10
            minimum: 1
            maximum: 50
          description: >
            Indicates the size of each page (number of items per page).
            Can only be used together with `page`.
    
      # RESPONSES
      # -------------

      responses:
        '200':
          $ref: '#/components/responses/ListOfNewslettersOfOrganisationFound_PageBasedPagination'

        # Definition of all error statuses
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden' 
        '404':
          $ref: '#/components/responses/NotFound' 
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalError'
        '501': 
          $ref: '#/components/responses/NotImplemented'
        '502':
          $ref: '#/components/responses/BadGateway'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'

        # Definition of other error status
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'

# ====================================
  '/newsletters/{newsletterId}':
# ====================================
# GET   #
# ----- #

    get:
      tags:
        - Newsletter
      summary: Get a single `Newsletter`
      description: This operation allows to get a `Newsletter`, identified by its unique identifier **newsletterId**
      externalDocs:
        url: ''
      operationId: getNewsletterByID
      security:
        - OauthSecurity:
            - All
            - Application_Admin
            - Organisation_Admin
            - Organisation_Member
            - Organisation_Candidate
            - Organisation_Refused
            - Organisation_President
            - Organisation_VicePresident
            - Organisation_Secretary
            - Organisation_Treasurer

      parameters:

      # HEADER
      # -------------

        # Host
        - name: Host
          description: Network location of the URI
          required: true
#          nullable: false
          in: header
          schema:
            type: string
          example: ufr-api.ops.google.com

      # PATH
      # -------------

        # Newsletter Unique ID
        - name: newsletterId
          description: Technical Unique ID of the `Newsletter` (Base36 encoding) (https://en.wikipedia.org/wiki/Base36)
          required: true
#          nullable: false
          in: path
          schema:
            type: string
            minLength: 1
            maxLength: 8
          example: "nslt"

      # QUERY
      # -------------


      # RESPONSES
      # -------------

      responses:
        '200':
          $ref: '#/components/responses/NewsletterFound'

        # Definition of all error statuses
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden' 
        '404':
          $ref: '#/components/responses/NotFound' 
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalError'
        '501': 
          $ref: '#/components/responses/NotImplemented'
        '502':
          $ref: '#/components/responses/BadGateway'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'

        # Definition of other error status
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'

# ====================================
# DELETE #
# ------ #

    delete:
      tags:
        - Newsletter
      summary: Delete an `Newsletter`
      description: This operation allows to delete an `Newsletter`, identified by its unique identifier **newsletterId**
      externalDocs:
        url: ''
      operationId: deleteNewsletter
      security:
        - OauthSecurity:
            - All
            - Application_Admin
            - Organisation_Admin
            - Organisation_Member
            - Organisation_Candidate
            - Organisation_Refused
            - Organisation_President
            - Organisation_VicePresident
            - Organisation_Secretary
            - Organisation_Treasurer

      parameters:

      # HEADER
      # -------------


        # Host
        - name: Host
          description: Network location of the URI
          required: true
#          nullable: false
          in: header
          schema:
            type: string
          example: ufr-api.ops.google.com


      # PATH
      # -------------

        # OpeningHour Unique ID
        - name: newsletterId
          description: Technical Unique ID of the `Newsletter` (Base36 encoding) (https://en.wikipedia.org/wiki/Base36)
          required: true
#          nullable: false
          in: path
          schema:
            type: string
            minLength: 1
            maxLength: 8
          example: "nslt"


      # QUERY
      # -------------


      # RESPONSES
      # -------------

      responses:
        '204':
          $ref: '#/components/responses/NoContent'

        # Definition of all error statuses
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden' 
        '404':
          $ref: '#/components/responses/NotFound' 
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalError'
        '501': 
          $ref: '#/components/responses/NotImplemented'
        '502':
          $ref: '#/components/responses/BadGateway'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'

        # Definition of other error status
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'

# ====================================
  '/organisations/{siretNumber}/book-entries':
# ====================================
# POST  #
# ----- #

    post:
      tags:
        - BookEntry
      summary: Add a 'BookEntry' to an 'Organisation', identified by its unique identifier **siretNumber**
      description: This operation allows the creation of a new 'BookEntry'
      externalDocs:
        url: ''
      operationId: createBookEntry
      security:
        - OauthSecurity:
            - All
            - Application_Admin
            - Organisation_Admin
            - Organisation_Member
            - Organisation_Candidate
            - Organisation_Refused
            - Organisation_President
            - Organisation_VicePresident
            - Organisation_Secretary
            - Organisation_Treasurer

      parameters:

      # HEADER
      # -------------

        # Host
        - name: Host
          description: Network location of the URI
          required: true
#          nullable: false
          in: header
          schema:
            type: string
          example: www.google.com

      # PATH
      # -------------

        # SIRET
        - name: siretNumber
          description: Unique ID of the Organisation
          required: true
#          nullable: false
          in: path
          schema:
            type: string
            minLength: 14
            maxLength: 14
          example: "12482313546354"

      # QUERY
      # -------------


      # BODY
      # -------------

      # User details
      requestBody:
        description: "'BookEntry' detailled content"
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BookEntry'
            examples:
              CreateBookEntry:
                $ref: '#/components/examples/CreateBookEntry'

      # RESPONSES
      # -------------

      responses:
        '201':
          $ref: '#/components/responses/BookEntryCreated'

        # Definition of all error statuses
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden' 
        '404':
          $ref: '#/components/responses/NotFound' 
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalError'
        '501': 
          $ref: '#/components/responses/NotImplemented'
        '502':
          $ref: '#/components/responses/BadGateway'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'

        # Definition of other error status
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'

# ====================================
# GET   #
# ----- #

    get:
      tags:
        - BookEntry
      summary: Get the list of all the `BookEntry` in an `Organisation` - "Page" base pagination
      description: This operation allows to get the list of `BookEntry` associated to an `Organisation`, identified by its unique identifier **siretNumber**
      externalDocs:
        url: ''
      operationId: getListOfBookEntriesOfOrganisation
      security:
        - OauthSecurity:
            - All
            - Application_Admin
            - Organisation_Admin
            - Organisation_Member
            - Organisation_Candidate
            - Organisation_Refused
            - Organisation_President
            - Organisation_VicePresident
            - Organisation_Secretary
            - Organisation_Treasurer

      parameters:

      # HEADER
      # -------------

        # Host
        - name: Host
          description: Network location of the URI
          required: true
#          nullable: false
          in: header
          schema:
            type: string
          example: ufr-api.ops.google.com

      # PATH
      # -------------

        # SIRET
        - name: siretNumber
          description: Unique ID of the Organisation
          required: true
#          nullable: false
          in: path
          schema:
            type: string
            minLength: 14
            maxLength: 14
          example: "12482313546354"

      # QUERY
      # -------------

#        - in: query
#          name: fields
#          required: false
#          schema:
#            type: string
#          description: >
#            Retrieve only a subset of fields of the resource (case sensitive)
#            If provided, the value of this parameter must be a comma-separated list of top-level response message fields.
#            If not provided, all the representation is returned.
#          example:
#            fields=pseudo,firstName,lastName

#        - in: query
#          name: embed
#          required: false
#          schema:
#            type: string
#          description: >
#            Retrieve in the response the related embedded resource representations.
#            If provided, the value of this parameter must be a comma-separated list of relation identifiers.
#            If not provided, only the ressource is returned.
#          example:
#            embed=(roles)
            
        - in: query
          name: page
          required: false
          schema:
            type: integer
            default: 1
            minimum: 1
          description: >
            Indicates the page number to be returned.
            `pageSize` may be used with `page` to set the number of items per page.
        - in: query
          name: pageSize
          required: false
          schema:
            type: integer
            default: 10
            minimum: 1
            maximum: 50
          description: >
            Indicates the size of each page (number of items per page).
            Can only be used together with `page`.
    
      # RESPONSES
      # -------------

      responses:
        '200':
          $ref: '#/components/responses/ListOfBookEntriesOfOrganisationFound_PageBasedPagination'

        # Definition of all error statuses
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden' 
        '404':
          $ref: '#/components/responses/NotFound' 
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalError'
        '501': 
          $ref: '#/components/responses/NotImplemented'
        '502':
          $ref: '#/components/responses/BadGateway'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'

        # Definition of other error status
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'

# ====================================
  '/book-entry/{bookEntryId}':
# ====================================
# GET   #
# ----- #

    get:
      tags:
        - BookEntry
      summary: Get a single `BookEntry`
      description: This operation allows to get a `BookEntry`, identified by its unique identifier **bookEntryId**
      externalDocs:
        url: ''
      operationId: getBookEntryByID
      security:
        - OauthSecurity:
            - All
            - Application_Admin
            - Organisation_Admin
            - Organisation_Member
            - Organisation_Candidate
            - Organisation_Refused
            - Organisation_President
            - Organisation_VicePresident
            - Organisation_Secretary
            - Organisation_Treasurer

      parameters:

      # HEADER
      # -------------

        # Host
        - name: Host
          description: Network location of the URI
          required: true
#          nullable: false
          in: header
          schema:
            type: string
          example: ufr-api.ops.google.com

      # PATH
      # -------------

        # BookEntry Unique ID
        - name: bookEntryId
          description: Technical Unique ID of the `BookEntry` (Base36 encoding) (https://en.wikipedia.org/wiki/Base36)
          required: true
#          nullable: false
          in: path
          schema:
            type: string
            minLength: 1
            maxLength: 8
          example: "tyf5"

      # QUERY
      # -------------


      # RESPONSES
      # -------------

      responses:
        '200':
          $ref: '#/components/responses/BookEntryFound'

        # Definition of all error statuses
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden' 
        '404':
          $ref: '#/components/responses/NotFound' 
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalError'
        '501': 
          $ref: '#/components/responses/NotImplemented'
        '502':
          $ref: '#/components/responses/BadGateway'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'

        # Definition of other error status
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'

# ====================================
# DELETE #
# ------ #

    delete:
      tags:
        - BookEntry
      summary: Delete a `BookEntry`
      description: This operation allows to delete a `BookEntry`, identified by its unique identifier **bookEntryId**
      externalDocs:
        url: ''
      operationId: deleteBookEntry
      security:
        - OauthSecurity:
            - All
            - Application_Admin
            - Organisation_Admin
            - Organisation_Member
            - Organisation_Candidate
            - Organisation_Refused
            - Organisation_President
            - Organisation_VicePresident
            - Organisation_Secretary
            - Organisation_Treasurer

      parameters:

      # HEADER
      # -------------


        # Host
        - name: Host
          description: Network location of the URI
          required: true
#          nullable: false
          in: header
          schema:
            type: string
          example: ufr-api.ops.google.com


      # PATH
      # -------------

        # BookEntry Unique ID
        - name: bookEntryId
          description: Technical Unique ID of the `BookEntry` operation (Base36 encoding) (https://en.wikipedia.org/wiki/Base36)
          required: true
#          nullable: false
          in: path
          schema:
            type: string
            minLength: 1
            maxLength: 8
          example: "tyf5"


      # QUERY
      # -------------


      # RESPONSES
      # -------------

      responses:
        '204':
          $ref: '#/components/responses/NoContent'

        # Definition of all error statuses
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden' 
        '404':
          $ref: '#/components/responses/NotFound' 
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalError'
        '501': 
          $ref: '#/components/responses/NotImplemented'
        '502':
          $ref: '#/components/responses/BadGateway'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'

        # Definition of other error status
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'


# ====================================
  '/organisations/{siretNumber}/events':
# ====================================
# POST  #
# ----- #

    post:
      tags:
        - Event
      summary: Add an 'Event' to an 'Organisation', identified by its unique identifier **siretNumber**
      description: This operation allows the creation of a new 'Event'
      externalDocs:
        url: ''
      operationId: createEvent
      security:
        - OauthSecurity:
            - All
            - Application_Admin
            - Organisation_Admin
            - Organisation_Member
            - Organisation_Candidate
            - Organisation_Refused
            - Organisation_President
            - Organisation_VicePresident
            - Organisation_Secretary
            - Organisation_Treasurer

      parameters:

      # HEADER
      # -------------

        # Host
        - name: Host
          description: Network location of the URI
          required: true
#          nullable: false
          in: header
          schema:
            type: string
          example: www.google.com

      # PATH
      # -------------

        # SIRET
        - name: siretNumber
          description: Unique ID of the 'Organisation'
          required: true
#          nullable: false
          in: path
          schema:
            type: string
            minLength: 14
            maxLength: 14
          example: "12482313546354"

      # QUERY
      # -------------


      # BODY
      # -------------

      # User details
      requestBody:
        description: Event detailled content
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Event'
            examples:
              CreateEvent:
                $ref: '#/components/examples/CreateEvent'

      # RESPONSES
      # -------------

      responses:
        '201':
          $ref: '#/components/responses/EventCreated'

        # Definition of all error statuses
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden' 
        '404':
          $ref: '#/components/responses/NotFound' 
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalError'
        '501': 
          $ref: '#/components/responses/NotImplemented'
        '502':
          $ref: '#/components/responses/BadGateway'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'

        # Definition of other error status
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'


# ====================================
# GET   #
# ----- #

    get:
      tags:
        - Event
      summary: Get the list of all the `Event` in an `Organisation` - "Page" base pagination
      description: This operation allows to get the list of `Event` associated to an `Organisation`, identified by its unique identifier **siretNumber**
      externalDocs:
        url: ''
      operationId: getListOfEventsOfOrganisation
      security:
        - OauthSecurity:
            - All
            - Application_Admin
            - Organisation_Admin
            - Organisation_Member
            - Organisation_Candidate
            - Organisation_Refused
            - Organisation_President
            - Organisation_VicePresident
            - Organisation_Secretary
            - Organisation_Treasurer

      parameters:

      # HEADER
      # -------------

        # Host
        - name: Host
          description: Network location of the URI
          required: true
#          nullable: false
          in: header
          schema:
            type: string
          example: ufr-api.ops.google.com

      # PATH
      # -------------

        # SIRET
        - name: siretNumber
          description: Unique ID of the Organisation
          required: true
#          nullable: false
          in: path
          schema:
            type: string
            minLength: 14
            maxLength: 14
          example: "12482313546354"

      # QUERY
      # -------------

#        - in: query
#          name: fields
#          required: false
#          schema:
#            type: string
#          description: >
#            Retrieve only a subset of fields of the resource (case sensitive)
#            If provided, the value of this parameter must be a comma-separated list of top-level response message fields.
#            If not provided, all the representation is returned.
#          example:
#            fields=pseudo,firstName,lastName

#        - in: query
#          name: embed
#          required: false
#          schema:
#            type: string
#          description: >
#            Retrieve in the response the related embedded resource representations.
#            If provided, the value of this parameter must be a comma-separated list of relation identifiers.
#            If not provided, only the ressource is returned.
#          example:
#            embed=(roles)
            
        - in: query
          name: page
          required: false
          schema:
            type: integer
            default: 1
            minimum: 1
          description: >
            Indicates the page number to be returned.
            `pageSize` may be used with `page` to set the number of items per page.
        - in: query
          name: pageSize
          required: false
          schema:
            type: integer
            default: 10
            minimum: 1
            maximum: 50
          description: >
            Indicates the size of each page (number of items per page).
            Can only be used together with `page`.
    
      # RESPONSES
      # -------------

      responses:
        '200':
          $ref: '#/components/responses/ListOfEventsOfOrganisationFound_PageBasedPagination'

        # Definition of all error statuses
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden' 
        '404':
          $ref: '#/components/responses/NotFound' 
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalError'
        '501': 
          $ref: '#/components/responses/NotImplemented'
        '502':
          $ref: '#/components/responses/BadGateway'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'

        # Definition of other error status
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'
                
# ====================================
  '/events/{eventId}':
# ====================================
# GET   #
# ----- #

    get:
      tags:
        - Event
      summary: Get a single 'Event'
      description: This operation allows to get a 'Event', according to its unique identifier (ID)
      externalDocs:
        url: ''
      operationId: getEventByID
      security:
        - OauthSecurity:
            - All
            - Application_Admin
            - Organisation_Admin
            - Organisation_Member
            - Organisation_Candidate
            - Organisation_Refused
            - Organisation_President
            - Organisation_VicePresident
            - Organisation_Secretary
            - Organisation_Treasurer

      parameters:

      # HEADER
      # -------------

        # Host
        - name: Host
          description: Network location of the URI
          required: true
#          nullable: false
          in: header
          schema:
            type: string
          example: ufr-api.ops.google.com

      # PATH
      # -------------

        # Event Unique ID
        - name: eventId
          description: Technical Unique ID of the Event (Base36 encoding) (https://en.wikipedia.org/wiki/Base36)
          required: true
#          nullable: false
          in: path
          schema:
            type: string
            minLength: 1
            maxLength: 8
          example: "1aw56"

      # QUERY
      # -------------


      # RESPONSES
      # -------------

      responses:
        '200':
          $ref: '#/components/responses/EventFound'

        # Definition of all error statuses
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden' 
        '404':
          $ref: '#/components/responses/NotFound' 
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalError'
        '501': 
          $ref: '#/components/responses/NotImplemented'
        '502':
          $ref: '#/components/responses/BadGateway'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'

        # Definition of other error status
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'

# ====================================
# DELETE #
# ------ #

    delete:
      tags:
        - Event
      summary: Delete an `Event`
      description: This operation allows to delete an `Event`, identified by its unique identifier **eventId**
      externalDocs:
        url: ''
      operationId: deleteEvent
      security:
        - OauthSecurity:
            - All
            - Application_Admin
            - Organisation_Admin
            - Organisation_Member
            - Organisation_Candidate
            - Organisation_Refused
            - Organisation_President
            - Organisation_VicePresident
            - Organisation_Secretary
            - Organisation_Treasurer

      parameters:

      # HEADER
      # -------------

        # Host
        - name: Host
          description: Network location of the URI
          required: true
#          nullable: false
          in: header
          schema:
            type: string
          example: ufr-api.ops.google.com


      # PATH
      # -------------

        # Event Unique ID
        - name: eventId
          description: Technical Unique ID of the Event (Base36 encoding) (https://en.wikipedia.org/wiki/Base36)
          required: true
#          nullable: false
          in: path
          schema:
            type: string
            minLength: 1
            maxLength: 8
          example: "1aw56"


      # QUERY
      # -------------


      # RESPONSES
      # -------------

      responses:
        '204':
          $ref: '#/components/responses/NoContent'

        # Definition of all error statuses
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden' 
        '404':
          $ref: '#/components/responses/NotFound' 
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalError'
        '501': 
          $ref: '#/components/responses/NotImplemented'
        '502':
          $ref: '#/components/responses/BadGateway'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'

        # Definition of other error status
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'

############################################################
# Authentication                                           #
############################################################

# ====================================
  '/authenticate':
# ====================================
# POST  #
# ----- #
    post:
      tags:
        - Authentication
      summary: Authenticate the user
      description: This operation allows the 'User' to authenticate using its LOGIN and PASSWORD
      externalDocs:
        url: https://www.javainuse.com/spring/boot-jwt
      operationId: authenticateUser
      security:
        - OauthSecurity:
            - All
            - Application_Admin
            - Organisation_Admin
            - Organisation_Member
            - Organisation_Candidate
            - Organisation_Refused
            - Organisation_President
            - Organisation_VicePresident
            - Organisation_Secretary
            - Organisation_Treasurer

      parameters:

      # HEADER
      # -------------

        # Host
        - name: Host
          description: Network location of the URI
          required: true
#          nullable: false
          in: header
          schema:
            type: string
          example: www.google.com

      # PATH
      # -------------


      # QUERY
      # -------------


      # BODY
      # -------------

      # Authentication details
      requestBody:
        description: User credentials
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - login
                - password
              properties:
                # Login
                login:
                  description: Login of the user, declared when the User is created
                  type: string
                  minLength: 5
                  maxLength: 50
                  example: "MirorEdge789"
                # Password
                password:
                  description: Password used to identify the user on the plateform
                  type: string
                  format: password
                  minLength: 5
                  maxLength: 200
                  example: "jhqsflljhsge5136534"
            examples:
              TokenRequest:
                $ref: '#/components/examples/TokenRequest'

      # RESPONSES
      # -------------

      responses:
        '200':
          $ref: '#/components/responses/TokenCreated'

        # Definition of all error statuses
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden' 
        '404':
          $ref: '#/components/responses/NotFound' 
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalError'
        '501': 
          $ref: '#/components/responses/NotImplemented'
        '502':
          $ref: '#/components/responses/BadGateway'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'

        # Definition of other error status
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'

############################################################
# HIGHLY RECOMMENDED RESOURCES : ping, openapi.json        #
############################################################

# ====================================
  '/openapi.json':
# ====================================
# GET   #
# ----- #

    get:
      tags:
        - Common
      summary: Specifications Swagger/openapi
      description: Information on service provided, this information is highly recommended in your API.
      externalDocs:
        url: ''
      operationId: openApi
      security:
        - OauthSecurity: []

      responses:
        '200':
          description: OK

        # Definition of all error statuses
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound' 
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'

        # Definition of other error status
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'

# ====================================
  '/ping':
# ====================================
# GET   #
# ----- #

    get:
      tags:
        - Common
      summary: Verify if backend is up
      description: Verify if backend is up, this information is higly recommended in your API.
      externalDocs:
        url: ''
      operationId: ping
      security:
        - OauthSecurity: []

      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                required:
                  - pong
                properties:
                  pong:
                    type: string
                    enum:
                      - OK
                    example: OK

        # Definition of all error statuses
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'

        # Definition of other error status
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'

components:

############################################################
#                      E X A M P L E S                     #
############################################################

  examples:

 # User -----------------------------
 
    CreateUser:
      summary: >-
        Example of the body of a POST of 'User'
      value:
        pseudo: "MirorEdge38"
        studentNumber: "22101185"
        firstName: "Darth"
        lastName: "Vader"
        gender: "O"
        profilePic: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAIAAAACDbGyAAAALnRFWHRDcmVhdGlvbiBUaW1lAGRpbS4gMjcgbm92LiAyMDIyIDE5OjU3OjI5ICswMTAwfTmqYgAAAAd0SU1FB+YLGxI7FbLMz30AAAAJcEhZcwAACvAAAArwAUKsNJgAAAAEZ0FNQQAAsY8L/GEFAAAANklEQVR42mP4n6r4nzP7H8N1IKmv9Y8BSAGFgHwgB8gGiksCEZADYTBAlIHUgzUyQJRB9AOFADGjJ3A8VQxDAAAAAElFTkSuQmCC"
        email: "darth.vader@etu.univ-tours.fr"
        phoneNumber: "+33605024878"
        phoneBook: false
        notifications: true
        password: "1214f4-4fpiugj!"

    UserCreated:
      summary: >-
        Example of response to a POST of 'User'
      value:
        pseudo: "MirorEdge38"
        studentNumber: "22101185"
        firstName: "Darth"
        lastName: "Vader"
        gender: "O"
        profilePic: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAIAAAACDbGyAAAALnRFWHRDcmVhdGlvbiBUaW1lAGRpbS4gMjcgbm92LiAyMDIyIDE5OjU3OjI5ICswMTAwfTmqYgAAAAd0SU1FB+YLGxI7FbLMz30AAAAJcEhZcwAACvAAAArwAUKsNJgAAAAEZ0FNQQAAsY8L/GEFAAAANklEQVR42mP4n6r4nzP7H8N1IKmv9Y8BSAGFgHwgB8gGiksCEZADYTBAlIHUgzUyQJRB9AOFADGjJ3A8VQxDAAAAAElFTkSuQmCC"
        email: "darth.vader@etu.univ-tours.fr"
        phoneNumber: "+33605024878"
        phoneBook: false
        notifications: true

    UserFound:
      summary: >-
        Example of response to a GET of 'User'
      value:
        pseudo: "MirorEdge38"
        studentNumber: "22101185"
        firstName: "Darth"
        lastName: "Vader"
        gender: "O"
        profilePic: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAIAAAACDbGyAAAALnRFWHRDcmVhdGlvbiBUaW1lAGRpbS4gMjcgbm92LiAyMDIyIDE5OjU3OjI5ICswMTAwfTmqYgAAAAd0SU1FB+YLGxI7FbLMz30AAAAJcEhZcwAACvAAAArwAUKsNJgAAAAEZ0FNQQAAsY8L/GEFAAAANklEQVR42mP4n6r4nzP7H8N1IKmv9Y8BSAGFgHwgB8gGiksCEZADYTBAlIHUgzUyQJRB9AOFADGjJ3A8VQxDAAAAAElFTkSuQmCC"
        email: "darth.vader@etu.univ-tours.fr"
        phoneNumber: "+33605024878"
        phoneBook: false
        notifications: true
        globalRoles :
          - "APP_ADMIN"

 # Role -----------------------------
 
    RolesOfUserInOrganisationFound:
      summary: >-
        Example of response to a GET of 'Roles' of a 'User' in an 'Organisation'
      value:
        roles:
          - "PRESIDENT"
          - "MEMBER"

    UpdateRolesOfUserInOrganisation:
      summary: >-
        Example of the body of a PUT of 'Roles' on a 'User' in an 'Organisation'
      value:
        roles:
          - "ADMIN"
          - "REFUSED"

 # Organisation -----------------------------
 
    CreateOrganisation:
      summary: >-
        Example of the body of a POST of 'Organisation'
      value:
        siretNumber: "12482313546354"
        name: "ABEI (Universit� de Blois)"
        location: "Blois"
        logo: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAIAAAACDbGyAAAALnRFWHRDcmVhdGlvbiBUaW1lAGRpbS4gMjcgbm92LiAyMDIyIDE5OjU3OjI5ICswMTAwfTmqYgAAAAd0SU1FB+YLGxI7FbLMz30AAAAJcEhZcwAACvAAAArwAUKsNJgAAAAEZ0FNQQAAsY8L/GEFAAAANklEQVR42mP4n6r4nzP7H8N1IKmv9Y8BSAGFgHwgB8gGiksCEZADYTBAlIHUgzUyQJRB9AOFADGjJ3A8VQxDAAAAAElFTkSuQmCC"
        memberPrice: 3.14159

    OrganisationCreated:
      summary: >-
        Example of response to a POST of an 'Organisation'
      value:
        siretNumber: "12482313546354"
        name: "ABEI (Universit� de Blois)"
        location: "Blois"
        logo: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAIAAAACDbGyAAAALnRFWHRDcmVhdGlvbiBUaW1lAGRpbS4gMjcgbm92LiAyMDIyIDE5OjU3OjI5ICswMTAwfTmqYgAAAAd0SU1FB+YLGxI7FbLMz30AAAAJcEhZcwAACvAAAArwAUKsNJgAAAAEZ0FNQQAAsY8L/GEFAAAANklEQVR42mP4n6r4nzP7H8N1IKmv9Y8BSAGFgHwgB8gGiksCEZADYTBAlIHUgzUyQJRB9AOFADGjJ3A8VQxDAAAAAElFTkSuQmCC"
        memberPrice: 3.14159

    OrganisationFound:
      summary: >-
        Example of response to a GET of an 'Organisation'
      value:
        siretNumber: "12482313546354"
        name: "ABEI (Universit� de Blois)"
        location: "Blois"
        logo: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAIAAAACDbGyAAAALnRFWHRDcmVhdGlvbiBUaW1lAGRpbS4gMjcgbm92LiAyMDIyIDE5OjU3OjI5ICswMTAwfTmqYgAAAAd0SU1FB+YLGxI7FbLMz30AAAAJcEhZcwAACvAAAArwAUKsNJgAAAAEZ0FNQQAAsY8L/GEFAAAANklEQVR42mP4n6r4nzP7H8N1IKmv9Y8BSAGFgHwgB8gGiksCEZADYTBAlIHUgzUyQJRB9AOFADGjJ3A8VQxDAAAAAElFTkSuQmCC"
        memberPrice: 3.14159

    ListOfOrganisationsFound_PageBasedPagination:
      summary: >-
        Example of response to a GET about a list of 'Organisations' with
        "PageSize/Page-based pagination"
      value:
        _links:
          self:
            href: "https://apis.xxx.com/.../organisations?page=10&pageSize=2"
          first:
            href: "https://apis.xxx.com/.../organisations?page=1&pageSize=2"
          prev:
            href: "https://apis.xxx.com/.../organisations?page=9&pageSize=2"
          next:
            href: "https://apis.xxx.com/.../organisations?page=11&pageSize=2"
          last:
            href: "https://apis.xxx.com/.../organisations?page=272"
        _pagination:
          totalElements: 453
          page: 10
          pageSize: 2
        _embedded:
          organisations:
            - siretNumber: "12482313546354"
              name: "ABEI (Universit� de Blois)"
              location: "Blois"
              logo: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAIAAAACDbGyAAAALnRFWHRDcmVhdGlvbiBUaW1lAGRpbS4gMjcgbm92LiAyMDIyIDE5OjU3OjI5ICswMTAwfTmqYgAAAAd0SU1FB+YLGxI7FbLMz30AAAAJcEhZcwAACvAAAArwAUKsNJgAAAAEZ0FNQQAAsY8L/GEFAAAANklEQVR42mP4n6r4nzP7H8N1IKmv9Y8BSAGFgHwgB8gGiksCEZADYTBAlIHUgzUyQJRB9AOFADGjJ3A8VQxDAAAAAElFTkSuQmCC"
              memberPrice: 3.14159
            - siretNumber: "35001414800026"
              name: "BDE"
              location: "Saint-Fargeau-PonThierry"
              logo: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAIAAAACDbGyAAAALnRFWHRDcmVhdGlvbiBUaW1lAGRpbS4gMjcgbm92LiAyMDIyIDE5OjU3OjI5ICswMTAwfTmqYgAAAAd0SU1FB+YLGxI7FbLMz30AAAAJcEhZcwAACvAAAArwAUKsNJgAAAAEZ0FNQQAAsY8L/GEFAAAANklEQVR42mP4n6r4nzP7H8N1IKmv9Y8BSAGFgHwgB8gGiksCEZADYTBAlIHUgzUyQJRB9AOFADGjJ3A8VQxDAAAAAElFTkSuQmCC"
              memberPrice: 50

    ListOfOrganisationsFound_LimitBasedPagination:
      summary: >-
        Example of response to a GET about a list of 'Organisations' with "Offset/Limit-based pagination"
      value:
        _links:
          self:
            href: "https://apis.xxx.com/.../organisations?offset=21&limit=2"
          first:
            href: "https://apis.xxx.com/.../organisations?offset=1&limit=2"
          prev:
            href: "https://apis.xxx.com/.../organisations?offset=19&limit=2"
          next:
            href: "https://apis.xxx.com/.../organisations?offset=23&limit=2"
          last:
            href: "https://apis.xxx.com/.../organisations?offset=453"
        _pagination:
          totalElements: 453
          offset: 21
          limit: 2
        _embedded:
          organisations:
            - siretNumber: "12482313546354"
              name: "ABEI (Universit� de Blois)"
              location: "Blois"
              logo: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAIAAAACDbGyAAAALnRFWHRDcmVhdGlvbiBUaW1lAGRpbS4gMjcgbm92LiAyMDIyIDE5OjU3OjI5ICswMTAwfTmqYgAAAAd0SU1FB+YLGxI7FbLMz30AAAAJcEhZcwAACvAAAArwAUKsNJgAAAAEZ0FNQQAAsY8L/GEFAAAANklEQVR42mP4n6r4nzP7H8N1IKmv9Y8BSAGFgHwgB8gGiksCEZADYTBAlIHUgzUyQJRB9AOFADGjJ3A8VQxDAAAAAElFTkSuQmCC"
              memberPrice: 3.14159
            - siretNumber: "35001414800026"
              name: "BDE"
              location: "Saint-Fargeau-Ponthierry"
              logo: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAIAAAACDbGyAAAALnRFWHRDcmVhdGlvbiBUaW1lAGRpbS4gMjcgbm92LiAyMDIyIDE5OjU3OjI5ICswMTAwfTmqYgAAAAd0SU1FB+YLGxI7FbLMz30AAAAJcEhZcwAACvAAAArwAUKsNJgAAAAEZ0FNQQAAsY8L/GEFAAAANklEQVR42mP4n6r4nzP7H8N1IKmv9Y8BSAGFgHwgB8gGiksCEZADYTBAlIHUgzUyQJRB9AOFADGjJ3A8VQxDAAAAAElFTkSuQmCC"
              memberPrice: 50

    ListOfOrganisationsOfUserFound_PageBasedPagination:
      summary:  >-
        Example of response to a GET about a list of 'Organisation' of a 'User' with "PageSize/Page-based pagination"
      value:
        _links:
          self:
            href: "https://apis.xxx.com/.../users/MirorEdge38/organisations?embed=(roles)&fields=siretNumber,name&page=10&pageSize=2"  
          first:
            href: "https://apis.xxx.com/.../users/MirorEdge38/organisations?embed=(roles)&fields=siretNumber,name&page=1&pageSize=2"
          prev:
            href: "https://apis.xxx.com/.../users/MirorEdge38/organisations?embed=(roles)&fields=siretNumber,name&page=9&pageSize=2"
          next:
            href: "https://apis.xxx.com/.../users/MirorEdge38/organisations?embed=(roles)&fields=siretNumber,name&page=11&pageSize=2"
          last:
            href: "https://apis.xxx.com/.../users/MirorEdge38/organisations?embed=(roles)&fields=siretNumber,name&page=13"
        _pagination:
          totalElements: 27
          page: 10
          pageSize: 2
        _embedded:
          organisations:
            - siretNumber: "12482313546354"
              name: "ABEI (Universit� de Blois)"
              roles:
                - CANDIDATE
            - siretNumber: "35001414800026"
              name: "BDE"
              roles:
                - REFUSED

# User-Organisation subscription ---------------------

    CreateUserSubscriptionToOrganisation:
      summary: >-
        Example of the body of a POST for the subscription of a 'User' to an 'Organisation'
      value:
        siretNumber: "12482313546354"
        name: "ABEI (Universit� de Blois)"

    UserSubscriptionToOrganisationCreated:
      summary: >-
        Example of response to a POST for the subscription of a 'User' to an 'Organisation'
      value:
        user:
          pseudo: "MirorEdge38"
        organisation:
          siretNumber: "12482313546354"

# Organisation-Opening hours ----------------------------------

    ListOfOpeningHoursOfOrganisationFound_PageBasedPagination:
      summary:  >-
        Example of response to a GET about a list of 'OpeningHours' in the 'Organisation' with "PageSize/Page-based pagination"
      value:
        _links:
          self:
            href: "https://apis.xxx.com/.../organisations/12482313546354/opening-hours?page=2&pageSize=3"
          first:
            href: "https://apis.xxx.com/.../organisations/12482313546354/opening-hours?page=1&pageSize=3"
          prev:
            href: "https://apis.xxx.com/.../organisations/12482313546354/opening-hours?page=1&pageSize=3"
          last:
            href: "https://apis.xxx.com/.../organisations/12482313546354/opening-hours?page=2"
        _pagination:
          totalElements: 5
          page: 2
          pageSize: 3
        _embedded:
          openingHours:
            - openingHourId: "aw158j"
              dayOfWeek: MONDAY
              openingTime: "08:00"
              closingTime: "13:30"
            - openingHourId: "aw158k"
              dayOfWeek: MONDAY
              openingTime: "15:00"
              closingTime: "21:30"
            - openingHourId: "aw158l"
              dayOfWeek: WEDNESDAY
              openingTime: "08:00"
              closingTime: "21:30"

# Organisation-Events ----------------------------------

    ListOfEventsOfOrganisationFound_PageBasedPagination:
      summary:  >-
        Example of response to a GET about a list of 'Event' in the 'Organisation' with "PageSize/Page-based pagination"
      value:
        _links:
          self:
            href: "https://apis.xxx.com/.../organisations/12482313546354/events?page=2&pageSize=3"
          first:
            href: "https://apis.xxx.com/.../organisations/12482313546354/events?page=1&pageSize=3"
          prev:
            href: "https://apis.xxx.com/.../organisations/12482313546354/events?page=1&pageSize=3"
          last:
            href: "https://apis.xxx.com/.../organisations/12482313546354/events?page=2"
        _pagination:
          totalElements: 5
          page: 2
          pageSize: 3
        _embedded:
          events:
            - eventId: "1aw56"
              name: "Z'Event"
              startDateTime: "2019-09-18T19:00:00Z"
              endDateTime: "2019-09-19T03:30:00.000Z"
              place: "31, Rue de la Poup�e qui tousse - 41000 Blois"
              price: 3.14159
              description: "It will be a **marvelous** *Event* ! [Z'Event](https://zevent.fr/)"
            - eventId: "1aw57"
              name: "Hell fest 2022"
              startDateTime: "2022-10-18T19:00:00Z"
              endDateTime: "2022-10-20T03:30:00.000Z"
              place: "28000 Chartres, France"
              price: 85
              description: "Rock'n Roll !"
            - eventId: "1aw58"
              name: "Trip to Disneyland"
              startDateTime: "2022-12-25T19:00:00Z"
              endDateTime: "2022-12-26T19:00:00.000Z"
              place: "DisneyWorld, Florida, USA"
              price: 590
              description: "You don't want to miss it !"
              
# Organisation-Book entries ----------------------------------

    ListOfBookEntriesOfOrganisationFound_PageBasedPagination:
      summary:  >-
        Example of response to a GET about a list of 'BookEntry' in the 'Organisation' with "PageSize/Page-based pagination"
      value:
        _links:
          self:
            href: "https://apis.xxx.com/.../organisations/12482313546354/book-entries?page=2&pageSize=3"
          first:
            href: "https://apis.xxx.com/.../organisations/12482313546354/book-entries?page=1&pageSize=3"
          prev:
            href: "https://apis.xxx.com/.../organisations/12482313546354/book-entries?page=1&pageSize=3"
          last:
            href: "https://apis.xxx.com/.../organisations/12482313546354/book-entries?page=2"
        _pagination:
          totalElements: 5
          page: 2
          pageSize: 3
        _embedded:
          bookEntries:
            - bookEntryId: "nslt"
              operationDateTime: "2019-09-19T03:30:00.000Z"
              mode: DEBIT_CARD
              description: "Rent A Car - Renault Scenic (953 kms)"
              type: PAYMENT
              amount: 315.14
              organisation:
                siretNumber: "12482313546354"
                name: "ABEI (Universit� de Blois)"
            - bookEntryId: "nslu"
              operationDateTime: "2019-09-19T19:30:00.000Z"
              mode: CASH
              description: "Coffee"
              type: INCOME
              amount: 2
              organisation:
                siretNumber: "12482313546354"
                name: "ABEI (Universit� de Blois)"

# Organisation-Newletters ----------------------------------

    ListOfNewslettersOfOrganisationFound_PageBasedPagination:
      summary:  >-
        Example of response to a GET about a list of 'Newsletter' in the 'Organisation' with "PageSize/Page-based pagination"
      value:
        _links:
          self:
            href: "https://apis.xxx.com/.../organisations/12482313546354/newsletters?page=1&pageSize=3"
          first:
            href: "https://apis.xxx.com/.../organisations/12482313546354/newsletters?page=1&pageSize=3"
          last:
            href: "https://apis.xxx.com/.../organisations/12482313546354/newsletters?page=1"
        _pagination:
          totalElements: 2
          page: 1
          pageSize: 3
        _embedded:
          newsletters:
            - newsletterId: "nslt"
              title: "Information newsletter - n�1"
              description: "In this newsletter, you'll find all our latest news and the list of our next **amazing** parties ! We hope you'll enjoy reading it !"
              body: "Hello ! That's all folks !"
              organisation:
                siretNumber: "12482313546354"
                name: "ABEI (Universit� de Blois)"
            - newsletterId: "nslu"
              title: "Information newsletter - n�2"
              description: "This is our second newsletters, we listened to you and added more ! We hope you'll have even more fun !"
              body: "Hello ! That's all folks !"
              organisation:
                siretNumber: "12482313546354"
                name: "ABEI (Universit� de Blois)"
              
# User-Organisation ----------------------------------

    ListOfUsersInOrganisationFound_PageBasedPagination:
      summary:  >-
        Example of response to a GET about a list of 'Users' in the 'Organisation' with "PageSize/Page-based pagination"
      value:
        _links:
          self:
            href: "https://apis.xxx.com/.../organisations/12482313546354/users?page=10&pageSize=2"
          first:
            href: "https://apis.xxx.com/.../organisations/12482313546354/users?page=1&pageSize=2"
          prev:
            href: "https://apis.xxx.com/.../organisations/12482313546354/users?page=9&pageSize=2"
          next:
            href: "https://apis.xxx.com/.../organisations/12482313546354/users?page=11&pageSize=2"
          last:
            href: "https://apis.xxx.com/.../organisations/12482313546354/users?page=13"
        _pagination:
          totalElements: 27
          page: 10
          pageSize: 2
        _embedded:
          users:
            - pseudo: "MirorEdge38"
              studentNumber: "22101185"
              firstName: "Darth"
              lastName: "Vader"
              gender: "O"
              profilePic: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAIAAAACDbGyAAAALnRFWHRDcmVhdGlvbiBUaW1lAGRpbS4gMjcgbm92LiAyMDIyIDE5OjU3OjI5ICswMTAwfTmqYgAAAAd0SU1FB+YLGxI7FbLMz30AAAAJcEhZcwAACvAAAArwAUKsNJgAAAAEZ0FNQQAAsY8L/GEFAAAANklEQVR42mP4n6r4nzP7H8N1IKmv9Y8BSAGFgHwgB8gGiksCEZADYTBAlIHUgzUyQJRB9AOFADGjJ3A8VQxDAAAAAElFTkSuQmCC"
              email: "darth.vader@etu.univ-tours.fr"
              phoneNumber: "+33605024878"
              phoneBook: false
              notifications: true
              globalRoles :
                - "APP_ADMIN"
              roles:
              - "CANDIDATE"
            - pseudo: "Astenor"
              firstName: "Luke"
              lastName: "Lucky"
              gender: "M"
              profilePic: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAIAAAACDbGyAAAALnRFWHRDcmVhdGlvbiBUaW1lAGRpbS4gMjcgbm92LiAyMDIyIDE5OjU3OjI5ICswMTAwfTmqYgAAAAd0SU1FB+YLGxI7FbLMz30AAAAJcEhZcwAACvAAAArwAUKsNJgAAAAEZ0FNQQAAsY8L/GEFAAAANklEQVR42mP4n6r4nzP7H8N1IKmv9Y8BSAGFgHwgB8gGiksCEZADYTBAlIHUgzUyQJRB9AOFADGjJ3A8VQxDAAAAAElFTkSuQmCC"
              email: "luke.luky@western.us"
              phoneNumber: "+33954218675"
              phoneBook: true
              notifications: false
              roles :
                - "PRESIDENT"
                - "MEMBER"

    ListOfUsersInOrganisationFilteredByRolesFound_PageBasedPagination:
      summary:  >-
        Example of response to a GET about a list of 'Users' in the 'Organisation', filtered by a list of 'Roles', with "PageSize/Page-based pagination"
      value:
        _links:
          self:
            href: "https://apis.xxx.com/.../organisations/12482313546354/users?roles=CANDIDATE&embed=(roles)&fields=pseudo,firstName,lastName&page=10&pageSize=2"
          first:
            href: "https://apis.xxx.com/.../organisations/12482313546354/users?roles=CANDIDATE&embed=(roles)&fields=pseudo,firstName,lastName&page=1&pageSize=2"
          prev:
            href: "https://apis.xxx.com/.../organisations/12482313546354/users?roles=CANDIDATE&embed=(roles)&fields=pseudo,firstName,lastName&page=9&pageSize=2"
          next:
            href: "https://apis.xxx.com/.../organisations/12482313546354/users?roles=CANDIDATE&embed=(roles)&fields=pseudo,firstName,lastName&page=11&pageSize=2"
          last:
            href: "https://apis.xxx.com/.../organisations/12482313546354/users?roles=CANDIDATE&embed=(roles)&fields=pseudo,firstName,lastName&page=13"
        _pagination:
          totalElements: 27
          page: 10
          pageSize: 2
        _embedded:
          users:
            - pseudo: "MirorEdge38"
              firstName: "Darth"
              lastName: "Vader"
              roles:
              - "CANDIDATE"
            - pseudo: "Astenor"
              firstName: "Luke"
              lastName: "Lucky"
              roles :
                - "ADMIN"
                - "CANDIDATE"

# Newsletter -----------------------------

    CreateNewsletter:
      summary: >-
        Example of the body of a POST of 'Newsletter'
      value:
        title: "Information newsletter - n�1"
        description: "In this newsletter, you'll find all our latest news and the list of our next **amazing** parties ! We hope you'll enjoy reading it !"
        body: "Hello ! That's all folks !"

    NewsletterCreated:
      summary: >-
        Example of response to a POST of an 'Newsletter'
      value:
        newsletterId: "nslt"
        title: "Information newsletter - n�1"
        description: "In this newsletter, you'll find all our latest news and the list of our next **amazing** parties ! We hope you'll enjoy reading it !"
        body: "Hello ! That's all folks !"
        organisation:
          siretNumber: "12482313546354"
          name: "ABEI (Universit� de Blois)"

    NewsletterFound:
      summary: >-
        Example of response to a GET of an 'Newsletter'
      value:
        title: "Information newsletter - n�1"
        description: "In this newsletter, you'll find all our latest news and the list of our next **amazing** parties ! We hope you'll enjoy reading it !"
        body: "Hello ! That's all folks !"
        publicationDateTime: "2019-09-19T03:30:00.000Z"
 
 # Book entry -----------------------------
 
    CreateBookEntry:
      summary: >-
        Example of the body of a POST of 'BookEntry'
      value:
       operationDateTime: "2019-09-19T03:30:00.000Z"
       mode: DEBIT_CARD
       description: "Rent A Car - Renault Scenic (953 kms)"
       type: PAYMENT
       amount: 315.14
 
    BookEntryCreated:
      summary: >-
        Example of response to a POST of an 'BookEntry'
      value:
        bookEntryId: "nslt"
        operationDateTime: "2019-09-19T03:30:00.000Z"
        mode: DEBIT_CARD
        description: "Rent A Car - Renault Scenic (953 kms)"
        type: PAYMENT
        amount: 315.14
        organisation:
          siretNumber: "12482313546354"
          name: "ABEI (Universit� de Blois)"
 
    BookEntryFound:
      summary: >-
        Example of response to a GET of an 'BookEntry'
      value:
        operationDateTime: "2019-09-19T03:30:00.000Z"
        mode: DEBIT_CARD
        description: "Rent A Car - Renault Scenic (953 kms)"
        type: PAYMENT
        amount: 315.14

 # Opening hour -----------------------------
 
    CreateOpeningHour:
      summary: >-
        Example of the body of a POST of 'OpeningHour'
      value:
        dayOfWeek: MONDAY
        openingTime: "08:00"
        closingTime: "13:30"

    OpeningHourCreated:
      summary: >-
        Example of response to a POST of an 'OpeningHour'
      value:
        openingHourId: "aw158j"
        dayOfWeek: MONDAY
        openingTime: "08:00"
        closingTime: "13:30"
        organisation:
          siretNumber: "12482313546354"
          name: "ABEI (Universit� de Blois)"

    OpeningHourFound:
      summary: >-
        Example of response to a GET of an 'OpeningHour'
      value:
        dayOfWeek: MONDAY
        openingTime: "08:00"
        closingTime: "13:30"

 # Event -----------------------------
 
    CreateEvent:
      summary: >-
        Example of the body of a POST of 'Event'
      value:
        name: "Z'Event"
        startDateTime: "2019-09-18T19:00:00Z"
        endDateTime: "2019-09-19T03:30:00.000Z"
        place: "31, Rue de la Poup�e qui tousse - 41000 Blois"
        price: 3.14159
        description: "It will be a **marvelous** *Event* ! [Z'Event](https://zevent.fr/)"

    EventCreated:
      summary: >-
        Example of response to a POST of an 'Event'
      value:
        eventId: "1aw56"
        name: "Z'Event"
        startDateTime: "2019-09-18T19:00:00Z"
        endDateTime: "2019-09-19T03:30:00.000Z"
        place: "31, Rue de la Poup�e qui tousse - 41000 Blois"
        price: 3.14159
        description: "It will be a **marvelous** *Event* ! [Z'Event](https://zevent.fr/)"
        organisation:
          siretNumber: "12482313546354"
          name: "ABEI (Universit� de Blois)"

    EventFound:
      summary: >-
        Example of response to a GET of an 'Event'
      value:
        name: "Z'Event"
        startDateTime: "2019-09-18T19:00:00Z"
        endDateTime: "2019-09-19T03:30:00.000Z"
        place: "31, Rue de la Poup�e qui tousse - 41000 Blois"
        price: 3.14159
        description: "It will be a **marvelous** *Event* ! [Z'Event](https://zevent.fr/)"
        organisation:
          siretNumber: "12482313546354"
          name: "ABEI (Universit� de Blois)"

 # Authenticate -----------------------------

    TokenRequest:
      summary: >-
        Example of the body of a POST of 'User/Password'
      value:
        login: "Kavinsky"
        password: "Ajkss854!@dtgfkjf"

    TokenCreated:
      summary: >-
        Example of response to a POST of 'User/Password'
      value:
        token: "eyJhbGciOiJIUzI1NiJ9.eyJJc3N1ZXIiOiJVRlJfQVNTTyIsIlVzZXJuYW1lIjoiS2F2aW5za3kiLCJleHAiOjE2NzA3NjE4MDUsImlhdCI6MTY3MDc2MTgwNX0.yLHx_5OViviVlNKoel1AILy43-W5o8Rdp7WuOMGGSZk"

############################################################
#                        S C H E M A                       #
############################################################

  schemas:

# OpeningHour ---------------------------------------------------------------------------

    OpeningHour:
      title: OpeningHour
      description: Details associated to an OpeningHour time slot

      type: object

      required:
        - name
        - startDateTime
        - endDateTime
      properties:

        # Name
        dayOfWeek:
          $ref: '#/components/schemas/DayOfWeek'

        # Opening time
        openingTime:
          description: Time in the day where the time slot starts (HH:MI, HH from 00 to 24)
          type: string
          format: time
          minLength: 5
          maxLength: 5
          example: "08:00"

        # Closing time
        closingTime:
          description: Time in the day where the time slot ends (HH:MI, HH from 00 to 24)
          type: string
          format: time
          minLength: 5
          maxLength: 5
          example: "13:00"

      example:
        dayOfWeek: MONDAY
        openingTime: "08:00"
        closingTime: "19:00"

# BookEntry ---------------------------------------------------------------------------

    BookEntry:
      title: BookEntry
      description: Details associated to an 'BookEntry'

      type: object

      required:
        - operationDateTime
        - mode
        - description
        - type
        - amount
      properties:

        # Operation Date/Time
        operationDateTime:
          description: Date/Time of the operation - UTC Date/Time - Format (ISO 8601) YYYY-MM-DDTHH24:MI:SSZ
          type: string
          format: date-time
          minLength: 19
          maxLength: 29
          example: "2019-09-19T03:30:00.000Z"

        # Mode of payment used for the transaction
        mode:
          $ref: '#/components/schemas/ModeOfPayment'

        # Description
        description:
          description: Description of the operation
          type: string
          example: "Rent A Car - Renault Scenic (953 kms)"

        # Type
        type:
          $ref: '#/components/schemas/TransactionDirection'

        # Amount
        amount:
          description: "Amount of the operation (> 0) (Currency : Euro)"
          type: number
          format: float
          minimum : 0
          exclusiveMinimum: true
          example: 315.14

      example:
        operationDateTime: "2019-09-19T03:30:00.000Z"
        mode: DEBIT_CARD
        description: "Rent A Car - Renault Scenic (953 kms)"
        type: PAYMENT
        amount: 315.14
        
# Newsletter ---------------------------------------------------------------------------

    Newsletter:
      title: Newsletter
      description: Initial data associated to an 'Newsletter'

      type: object

      required:
        - title
      properties:

        # Title
        title:
          description: Title of the 'Newletter'
          type: string
          minLength: 1
          maxLength: 100
          example: "Information newsletter - n�1"
        
        # Description
        description:
          description: Description/Summary of the 'Newletter'. It can use the markdown syntax (https://www.markdownguide.org/cheat-sheet/)
          type: string
          example: "In this newsletter, you'll find all our latest news and the list of our next **amazing** parties ! We hope you'll enjoy reading it !"
        
        # Body of the newletter
        body:
          description: Body of the 'Newletter'. It can use the markdown syntax (https://www.markdownguide.org/cheat-sheet/)
          type: string
          example: "Hello !
          
          It's our first newsletter and it will be very short ...
          So short that this is the end !
          
          Please send your comments on ou email [bde@univ-ufr.gouv.fr](mailto:bde@univ-ufr.gouv.fr)"

      example:
        title: "Information newsletter - n�1"
        description: "In this newsletter, you'll find all our latest news and the list of our next **amazing** parties ! We hope you'll enjoy reading it !"
        body: "Hello ! That's all folks !"

# Full Newsletter ---------------------------------------------------------------------------

    FullNewsletter:
      title: FullNewsletter
      description: Details associated to an 'Newsletter'

      type: object

      required:
        - title
      
      allOf:
        - $ref: '#/components/schemas/Newsletter'
        - type: object
          properties:
            # Publication Date/Time
            publicationDateTime:
              description: Date/Time of the end of the publication of the 'Newletter' - UTC Date/Time - Format (ISO 8601) YYYY-MM-DDTHH24:MI:SSZ
              type: string
              format: date-time
              minLength: 19
              maxLength: 29
              example: "2019-09-19T03:30:00.000Z"
      
      example:
        title: "Information newsletter - n�1"
        description: "In this newsletter, you'll find all our latest news and the list of our next **amazing** parties ! We hope you'll enjoy reading it !"
        body: "Hello ! That's all folks !"
        publicationDateTime: "2019-09-19T03:30:00.000Z"

# Event ---------------------------------------------------------------------------

    Event:
      title: Event
      description: Details associated to an Event

      type: object

      required:
        - name
        - startDateTime
        - endDateTime
      properties:

        # Name
        name:
          description: Name of the 'Organisation'
          type: string
          minLength: 1
          maxLength: 45
          example: "Z'Event"

        # Start Date/Time
        startDateTime:
          description: Date/Time of the start of the Event - UTC Date/Time - Format (ISO 8601) YYYY-MM-DDTHH24:MI:SSZ
          type: string
          format: date-time
          minLength: 19
          maxLength: 29
          example: "2019-09-18T19:00:00Z"

        # End Date/Time
        endDateTime:
          description: Date/Time of the end of the Event - UTC Date/Time - Format (ISO 8601) YYYY-MM-DDTHH24:MI:SSZ
          type: string
          format: date-time
          minLength: 19
          maxLength: 29
          example: "2019-09-19T03:30:00.000Z"

        # Place
        place:
          description: Location of the event
          type: string
          minLength: 1
          maxLength: 200
          example: "31, Rue de la Poup�e qui tousse - 41000 Blois"

        # Price
        price:
          description: "Price of the subscription (Currency : Euro)"
          type: number
          format: float
          minimum : 0
          example: 3.14159

        # Description
        description:
          description: "Description of the event. It can use the markdown syntax (https://www.markdownguide.org/cheat-sheet/)"
          type: string
          example: "It will be a **marvelous** *Event* ! [Z'Event](https://zevent.fr/)"
          
      example:
        name: "Z'Event"
        startDateTime: "2019-09-18T19:00:00Z"
        endDateTime: "2019-09-19T03:30:00.000Z"
        place: "31, Rue de la Poup�e qui tousse - 41000 Blois"
        price: 3.14159
        description: "It will be a **marvelous** *Event* ! [Z'Event](https://zevent.fr/)"

# Organisation ---------------------------------------------------------------------------

    # -------------------------
    OrganisationReduced:
      title: OrganisationReduced
      description: Reduced description of an Organisation

      type: object

      required:
        - siretNumber
        - name

      properties:
        # SIRET
        siretNumber:
          description: Unique ID of the Organisation (https://en.wikipedia.org/wiki/SIRET_code)
          type: string
          minLength: 14
          maxLength: 14
          example: "12482313546354"

        # Name
        name:
          description: Name of the 'Organisation'
          type: string
          minLength: 1
          maxLength: 45
          example: "ABEI (Universit� de Blois)"

      example:
        siretNumber: "12482313546354"
        name: "ABEI (Universit� de Blois)"

    # -------------------------
    Organisation:
      title: Organisation
      description: Details associated to an Organisation

      type: object

      required:
        - siretNumber
        - name
        - memberPrice
      properties:

        # SIRET
        siretNumber:
          description: Unique ID of the Organisation (https://en.wikipedia.org/wiki/SIRET_code)
          type: string
          minLength: 14
          maxLength: 14
          example: "12482313546354"

        # Name
        name:
          description: Name of the 'Organisation'
          type: string
          minLength: 1
          maxLength: 45
          example: "ABEI (Universit� de Blois)"

        # Location
        location:
          description: Location of the office of the Organisation
          type: string
          minLength: 1
          maxLength: 45
          example: "Blois"

        # Logo
        # https://codebeautify.org/base64-to-image-converter
        logo:
          description: Logo of the Organisation
          type: string
          format: byte
          minLength: 22
          example: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAIAAAACDbGyAAAALnRFWHRDcmVhdGlvbiBUaW1lAGRpbS4gMjcgbm92LiAyMDIyIDE5OjU3OjI5ICswMTAwfTmqYgAAAAd0SU1FB+YLGxI7FbLMz30AAAAJcEhZcwAACvAAAArwAUKsNJgAAAAEZ0FNQQAAsY8L/GEFAAAANklEQVR42mP4n6r4nzP7H8N1IKmv9Y8BSAGFgHwgB8gGiksCEZADYTBAlIHUgzUyQJRB9AOFADGjJ3A8VQxDAAAAAElFTkSuQmCC"

        # Price
        memberPrice:
          description: "Price of the membership (Currency : Euro)"
          type: number
          format: float
          minimum : 0
          example: 3.14159
          
      example:
        siretNumber: "12482313546354"
        name: "ABEI (Universit� de Blois)"
        location: "Blois"
        logo: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAIAAAACDbGyAAAALnRFWHRDcmVhdGlvbiBUaW1lAGRpbS4gMjcgbm92LiAyMDIyIDE5OjU3OjI5ICswMTAwfTmqYgAAAAd0SU1FB+YLGxI7FbLMz30AAAAJcEhZcwAACvAAAArwAUKsNJgAAAAEZ0FNQQAAsY8L/GEFAAAANklEQVR42mP4n6r4nzP7H8N1IKmv9Y8BSAGFgHwgB8gGiksCEZADYTBAlIHUgzUyQJRB9AOFADGjJ3A8VQxDAAAAAElFTkSuQmCC"
        memberPrice: 3.14159

# User ---------------------------------------------------------------------------

    User:
      title: User
      description: Details associated to a User (Pseudo/Alias, Picture, Phone number, ...)

      type: object

      required:
        - pseudo
        - firstName
        - lastName
        - email
        - phoneBook
        - notifications
      properties:

        # Pseudo (Unique ID)
        pseudo:
          description: Unique ID of the User, as given by the user
          type: string
          minLength: 5
          maxLength: 50
          example: "MirorEdge38"

        # Student number
        studentNumber:
          description: Unique ID of the User as given by the University
          type: string
          minLength: 1
          maxLength: 10
          example: "22101185"

        # First Name
        firstName:
          description: First name of the User
          type: string
          minLength: 1
          maxLength: 20
          example: "John"

        # Last Name
        lastName:
          description: Last name of the User
          type: string
          minLength: 1
          maxLength: 25
          example: "DOE"
        
        # Gender
        gender:
          $ref: '#/components/schemas/Gender'

        # Picture
        # https://codebeautify.org/base64-to-image-converter
        profilePic:
          description: Picture on the user profile
          type: string
          format: byte
          minLength: 22
          example: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAIAAAACDbGyAAAALnRFWHRDcmVhdGlvbiBUaW1lAGRpbS4gMjcgbm92LiAyMDIyIDE5OjU3OjI5ICswMTAwfTmqYgAAAAd0SU1FB+YLGxI7FbLMz30AAAAJcEhZcwAACvAAAArwAUKsNJgAAAAEZ0FNQQAAsY8L/GEFAAAANklEQVR42mP4n6r4nzP7H8N1IKmv9Y8BSAGFgHwgB8gGiksCEZADYTBAlIHUgzUyQJRB9AOFADGjJ3A8VQxDAAAAAElFTkSuQmCC"

        # email
        email:
          description: Picture on the user profile
          type: string
          example: "darth.vader@etu.univ-stours.fr"
          
        # Phone number
        phoneNumber:
          description: Phone number of the user
          type: string
          example: "+33605024878"

        # Accept to appear in the PhoneBook
        phoneBook:
          description: true, if the user accepts to be visible for other users
          type: boolean
          example: false

        # Accept to receive Notifications
        notifications:
          description: true, if the users accepts to receive the notification on his phone
          type: boolean
          example: true

        # List of Global roles
        globalRoles:
          description: List of global roles of the 'User'
          type: array
          items:
            $ref: '#/components/schemas/GlobalRoleType'

      example:
        pseudo: "MirorEdge38"
        studentNumber: "22101185"
        firstName: "Darth"
        lastName: "Vader"
        gender: "O"
        profilePic: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAIAAAACDbGyAAAALnRFWHRDcmVhdGlvbiBUaW1lAGRpbS4gMjcgbm92LiAyMDIyIDE5OjU3OjI5ICswMTAwfTmqYgAAAAd0SU1FB+YLGxI7FbLMz30AAAAJcEhZcwAACvAAAArwAUKsNJgAAAAEZ0FNQQAAsY8L/GEFAAAANklEQVR42mP4n6r4nzP7H8N1IKmv9Y8BSAGFgHwgB8gGiksCEZADYTBAlIHUgzUyQJRB9AOFADGjJ3A8VQxDAAAAAElFTkSuQmCC"
        email: "darth.vader@etu.univ-tours.fr"
        phoneNumber: "+33605024878"
        phoneBook: false
        notifications: true
        globalRoles :
          - "APP_ADMIN"

# ---------------
# ENUMERATIONS
# ---------------

# Gender ----------------------------------------------------------------------------
    Gender:
      title: Gender
      description: >-
        Gender of a User
          * M : Male
          * F : Female
          * O : Other

      type: string

      enum:
      - M
      - F
      - O
      example: F

# GlobalRoleType ----------------------------------------------------------------------------
    GlobalRoleType:
      title: GlobalRoleType
      description: Global Role that can be granted to a User

      type: string

      enum:
      - APP_ADMIN
      example: APP_ADMIN

# RoleType ----------------------------------------------------------------------------
    RoleType:
      title: RoleType
      description: Role that can be granted to a 'User' in an 'Organisation'

      type: string

      enum:
      - ADMIN
      - PRESIDENT
      - VICE-PRESIDENT
      - SECREATARY
      - TREASURER
      - MEMBER
      - CANDIDATE
      - REFUSED
      example: MEMBER

# DayOfWeek ----------------------------------------------------------------------------
    DayOfWeek:
      title: DayOfWeek
      description: >-
        List of the name of the days in a week 
        - MONDAY    The day of week named Monday.
        - TUESDAY   The day of week named Tuesday.
        - WEDNESDAY The day of week named Wednesday.
        - THURSDAY  The day of week named Thursday.
        - FRIDAY    The day of week named Friday.
        - SATURDAY	The day of week named Saturday.
        - SUNDAY    The day of week named Sunday.

      type: string

      enum:
        - MONDAY
        - TUESDAY
        - WEDNESDAY
        - THURSDAY
        - FRIDAY
        - SATURDAY
        - SUNDAY

      example: MONDAY

# TransactionDirection ----------------------------------------------------------------------------
    TransactionDirection:
      title: TransactionDirection
      description: >-
        Direction of the transaction :
        - INCOME  Amount of money, property, and other transfers of value received.
        - PAYMENT Amount of money, property, and other transfers of value payed.

      type: string

      enum:
        - INCOME
        - PAYMENT

      example: INCOME

# ModeOfPayment ----------------------------------------------------------------------------
    ModeOfPayment:
      title: ModeOfPayment
      description: >-
        Mode of payment used for the transaction
        - CASH          Payment by cash.
        - CHECK         Payment using a check.
        - BANK_TRANSFER Bank transfer from account to account.
        - CREDIT_CARD   Operation done with credit card.
        - DEBIT_CARD    Operation with a debit card.
        - INTERNET      Payment using an Internet account (Paypal, ...).
        - CRYPTO        Payment using a crypto-currency (Bitcoin, Ethereum, ...).
        - OTHER         Any other mean of transfert not listed.

      type: string

      enum:
        - CASH
        - CHECK
        - BANK_TRANSFER
        - CREDIT_CARD
        - DEBIT_CARD
        - INTERNET
        - CRYPTO
        - OTHER

      example: DEBIT_CARD

#############################################################
# Object structure                                          #
#############################################################

# BookEntryCreated ----------------------------------------------------------------------------
    BookEntryCreated:
      title: BookEntryCreated
      description: Description of a created 'BookEntry' object

      allOf:
        - type: object
          required:
            - bookEntryId
          properties:
            # BookEntry Unique ID
            bookEntryId:
              description: Technical Unique ID of the 'BookEntry' (Base36 encoding) (https://en.wikipedia.org/wiki/Base36)
              type: string
              minLength: 1
              maxLength: 8
              example: "tyf5"
            organisation:
              $ref: '#/components/schemas/OrganisationReduced'
        - $ref: '#/components/schemas/BookEntry'

# BookEntryFound ----------------------------------------------------------------------------
    BookEntryFound:
      title: BookEntryFound
      description: Description of an 'BookEntry' object

      allOf:
        - $ref: '#/components/schemas/BookEntry'

# NewsletterCreated ----------------------------------------------------------------------------
    NewsletterCreated:
      title: NewsletterCreated
      description: Description of a created 'Newsletter' object

      allOf:
        - type: object
          required:
            - newsletterId
          properties:
            # Newsletter Unique ID
            newsletterId:
              description: Technical Unique ID of the 'Newsletter' (Base36 encoding) (https://en.wikipedia.org/wiki/Base36)
              type: string
              minLength: 1
              maxLength: 8
              example: "nslt"
            organisation:
              $ref: '#/components/schemas/OrganisationReduced'
        - $ref: '#/components/schemas/Newsletter'

# NewsletterFound ----------------------------------------------------------------------------
    NewsletterFound:
      title: NewsletterFound
      description: Description of an 'Newsletter' object

      allOf:
        - $ref: '#/components/schemas/FullNewsletter'

# OrganisationCreated ----------------------------------------------------------------------------
    OrganisationCreated:
      title: OrganisationCreated
      description: Description of a created 'Organisation' object

      allOf:
        - $ref: '#/components/schemas/Organisation'

# OrganisationFound ----------------------------------------------------------------------------
    OrganisationFound:
      title: OrganisationFound
      description: Description of an 'Organisation' object

      allOf:
        - $ref: '#/components/schemas/Organisation'

# OpeningHourCreated ----------------------------------------------------------------------------
    OpeningHourCreated:
      title: OpeningHourCreated
      description: Description of a created 'OpeningHour' object

      allOf:
        - type: object
          required:
            - openingHourId
          properties:
            # Opening Hour Unique ID
            openingHourID:
              description: Technical Unique ID of the 'OpeningHour' (Base36 encoding) (https://en.wikipedia.org/wiki/Base36)
              type: string
              minLength: 1
              maxLength: 8
              example: "aw158j"
            organisation:
              $ref: '#/components/schemas/OrganisationReduced'
        - $ref: '#/components/schemas/OpeningHour'

# OpeningHourFound ----------------------------------------------------------------------------
    OpeningHourFound:
      title: OpeningHourFound
      description: Description of an 'OpeningHour' object

      allOf:
        - $ref: '#/components/schemas/OpeningHour'

# EventCreated ----------------------------------------------------------------------------
    EventCreated:
      title: EventCreated
      description: Description of a created 'Event' object

      allOf:
        - type: object
          required:
            - eventID
          properties:
            # Event Unique ID
            eventID:
              description: Technical Unique ID of the 'Event' (Base36 encoding) (https://en.wikipedia.org/wiki/Base36)
              type: string
              minLength: 1
              maxLength: 8
              example: "1aw56"
            organisation:
              $ref: '#/components/schemas/OrganisationReduced'
        - $ref: '#/components/schemas/Event'

# EventFound ----------------------------------------------------------------------------
    EventFound:
      title: EventFound
      description: Description of an 'Event' object

      allOf:
        - $ref: '#/components/schemas/Event'

# UserCreated ---------------------------------------------------------------------------
    UserCreated:
      title: UserCreated
      description: Description of a created 'User' object

      allOf:
        - $ref: '#/components/schemas/User'

# UserFound -----------------------------------------------------------------------------
    UserFound:
      title: UserFound
      description: Description of a 'User' object

      allOf:
        - $ref: '#/components/schemas/User'

# UsersOfOrganisationFound -----------------------------------------------------------------------------
    UsersOfOrganisationFound:
      title: UsersOfOrganisationFound
      description: Description of a list of 'Users' associated to an 'Organisation'.
      
      type: array
      items:
        $ref: '#/components/schemas/User'

# RolesOfUserInOrganisationFound --------------------------------------------------------
    RolesOfUserInOrganisationFound:
      title: RolesOfUserInOrganisationFound
      description: Description of a list of 'Roles' associated to a 'User' in an 'Organisation'.

      type: array
      items:
        $ref: '#/components/schemas/RoleType'

# UserSubscriptionToOrganisationCreated -------------------------------------------------
    UserSubscriptionToOrganisationCreated:
      title: UserSubscriptionToOrganisationCreated
      description: Description of a created 'User'/'Organisation' object

      allOf:
        - type: object
          required:
            - pseudo
            - siretNumber
          properties:
            # Pseudo (Unique ID)
            pseudo:
              description: Unique ID of the User, as given by the user
              type: string
              minLength: 5
              maxLength: 50
              example: "MirorEdge38"
            # SIRET
            siretNumber:
              description: Unique ID of the Organisation (https://en.wikipedia.org/wiki/SIRET_code)
              type: string
              minLength: 14
              maxLength: 14
              example: "12482313546354"

# TokenCreated ----------------------------------------------------------------------------
    TokenCreated:
      title: TokenCreated
      description: Description of the 'Token' (JWT) object
      externalDocs:
        url: 'https://auth0.com/docs/secure/tokens/json-web-tokens'
      
      allOf:
        - type: object
          required:
            - token
          properties:
            # JWT
            token: 
              description: JWT (JSON Web Token). It can be decoded using [jwt.io](https://jwt.io/)
              type: string
              minLength: 1
              example: "eyJhbGciOiJIUzI1NiJ9.eyJJc3N1ZXIiOiJVRlJfQVNTTyIsIlVzZXJuYW1lIjoiS2F2aW5za3kiLCJleHAiOjE2NzA3NjE4MDUsImlhdCI6MTY3MDc2MTgwNX0.yLHx_5OViviVlNKoel1AILy43-W5o8Rdp7WuOMGGSZk"

# EventREST ----------------------------------------------------------------------------
    EventREST:
      title: EventREST
      description: Description of a REST event

      required:
      - X-Transaction-ID
      - ETag
      - lastModified

      type: object

      properties:

        # Transaction
        X-Transaction-ID:
          type: string
          format: uuid
          minLength: 36
          maxLength: 36
          example: "123e4567-e89b-12d3-a456-426655440000"

        # ETag
        ETag:
          description: ETag (https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/ETag)
          type: string
          format: uuid
          minLength: 36
          maxLength: 36
          example: "123e4567-e89b-12d3-a456-426655440000"

        # Last Modified
        lastModified:
          description: Last Modified date (Create/Update/Delete) (https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Last-Modified)
          type: string
          format: date-time
          minLength: 19
          maxLength: 29
          example: "2019-09-18T23:56:16.000Z"

        # Errors
        errors:
          description: List of errors
          type: array
          items: 
            $ref: '#/components/schemas/Error'   

# Link to Item ----------------------------------------------------------------------------
    LinkToItem:
      title: LinkToItem
      description: Link to an item as proposed in HATEOAS
      
      required:
      - href
      - rel
      - type

      type: object

      properties:

        # HREF
        href:
          description: Link to the ressource
          type: string
          example: "/api/ufr_asso/v1/users/MirorEdge"

        # Reference
        rel:
          description: Reference
          type: string
          maxLength: 50
          example: self

        # HTTP Verb
        type:
          $ref: '#/components/schemas/VerbHTTP'

# ---------------
# ENUMERATIONS
# ---------------

# VerbHTTP ----------------------------------------------------------------------------
    VerbHTTP:
      title: Type of HTTP verb
      description: HTTP verb
      
      type: string
      
      enum:
      - GET
      - POST
      - PUT
      - DELETE
      - PATCH
      example: GET

############################################################
# Error structures                                         #
############################################################

# Schema for error response body
# ----------------------------------------------
    Errors:
      title: Errors
      description: List of errors

      required:
      - errors

      type: object

      properties:
        errors:
          description: List of errors
          type: array
          maxItems: 250
          items: 
            $ref: '#/components/schemas/Error'

# ----------------------------------------------
    Error:
      title: Error
      description: Error item

      required:
        - errorCode
        - errorMessage

      type: object

      properties:
        errorCode:
          description: Error technical Code (can be different than the HTTP return code)
          type: string
          maxLength: 50
          example : "MYSQL-2345"
        errorMessage:
          description: Message describing the error (Do not give too much information, to avoid security breach)
          type: string
          example : "MYSQL - Error during Creation of Updatable Snapshot"
        errorParams:
          description: Parameters used between '{' and '}' in the errorMessage
          type: array
          items:
            type: string
          example :
            - "T124Z"
            - "G18A8"
        errorLevel:
          $ref: '#/components/schemas/ErrorLevel'
        errorType:
          $ref: '#/components/schemas/ErrorType'
        documentationUrl:
          description: Url of the documentation associated to the error
          type: string
          example : "http://www.google.fr"
        tips:
          description: Tips/help for adressing the error
          type: string
          example : "Google can help you to find how to solve this issue"

# ----------------------------------------------
    ErrorLevel:
      title: ErrorLevel
      description: Criticity level of error

      type: string

      enum:
      - info
      - warning
      - error
      - critical

      example: info

# ----------------------------------------------
    ErrorType:
      title: ErrorType
      description: Type of error

      type: string

      enum:
      - functional
      - technical

      example: functional

# Schema for Response body
# ----------------------------------------------
  responses:

############################################################
#                      R E S P O N S E S                   #
############################################################
# Descriptions of common responses

############################################################
# Responses                                                #
############################################################

# User -----------------------------------------------------

    # 200 - OK - User found --------------------------------
    UserFound:
      description: Ressource 'User' found
      headers:
        Location: 
          description: Location of the ressource
          schema:
            type: string
          example: /api/ufr_asso/v1/users/MirorEdge
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/UserFound'
          examples:
            UserFound:
              $ref: '#/components/examples/UserFound'

    # 201 - Created - User created --------------------------------
    UserCreated:
      description: Ressource 'User' created
      headers:
        X-Transaction-ID:
          description: Current transaction identifier
          required: false
          schema:
            type: string
            format: uuid
            minLength: 36
            maxLength: 36
          example: 123e4567-e89b-12d3-a456-426655440000
        ETag:
          description: ETag (https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/ETag)
          required: false
          schema:
            type: string
            format: uuid
            minLength: 36
            maxLength: 36
          example: 123e4567-e89b-12d3-a456-426655440000
        Last-Modified:
          description: Last Modified date (Create/Update) (https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Last-Modified)
          required: false
          schema:
            type: string
            format: date-time
            minLength: 19
            maxLength: 29
          example: 2019-09-18T23:56:16.000Z
        Location:
          description: Location of the ressource
          required: false
          schema:
            type: string
          example: "/api/ufr_asso/v1/users/MirorEdge38"
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/UserCreated'
          examples:
            UserCreated:
              $ref: '#/components/examples/UserCreated'

    # 201 - Created - User-Organisation --------------------------
    UserSubscriptionToOrganisationCreated:
      description: Link 'User'/'Organisation' created
      headers:
        X-Transaction-ID:
          description: Current transaction identifier
          required: false
          schema:
            type: string
            format: uuid
            minLength: 36
            maxLength: 36
          example: 123e4567-e89b-12d3-a456-426655440000
        ETag:
          description: ETag (https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/ETag)
          required: false
          schema:
            type: string
            format: uuid
            minLength: 36
            maxLength: 36
          example: 123e4567-e89b-12d3-a456-426655440000
        Last-Modified:
          description: Last Modified date (Create/Update) (https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Last-Modified)
          required: false
          schema:
            type: string
            format: date-time
            minLength: 19
            maxLength: 29
          example: 2019-09-18T23:56:16.000Z
        Location:
          description: Location of the ressource
          required: false
          schema:
            type: string
          example: "/api/ufr_asso/v1/users/MirorEdge38/organisations/12482313546354"
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/UserSubscriptionToOrganisationCreated'
          examples:
            UserSubscriptionToOrganisationCreated:
              $ref: '#/components/examples/UserSubscriptionToOrganisationCreated'


    # 200 - OK - 'Roles' associated to a 'User' in an 'Organisation' found --------------------------------
    RolesOfUserInOrganisationFound:
      description: List of 'Roles' associated to a 'User' in an 'Organisation' found
      headers:
        Location: 
          description: Location of the ressource
          schema:
            type: string
          example: /api/ufr_asso/v1/users/MirorEdge38/organisations/12482313546354/roles
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/RolesOfUserInOrganisationFound'
          examples:
            RolesOfUserInOrganisationFound:
              $ref: '#/components/examples/RolesOfUserInOrganisationFound'

    # 200 - OK - 'Roles' associated to a 'User' in an 'Organisation' updated --------------------------------
    RolesOfUserInOrganisationUpdated:
      description: List of 'Roles' associated to a 'User' in an 'Organisation' updated
      headers:
        Location: 
          description: Location of the ressource
          schema:
            type: string
          example: /api/ufr_asso/v1/users/MirorEdge38/organisations/12482313546354/roles
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/RolesOfUserInOrganisationFound'
          examples:
            RolesOfUserInOrganisationFound:
              $ref: '#/components/examples/RolesOfUserInOrganisationFound'

    # 200 - OK - List of Organisations of a User found --------------------------------
    ListOfOrganisationsOfUserFound_PageBasedPagination:
      description: List of all the 'Organisations' of the 'User' found, "Page" based pagination
      headers:
        Location: 
          description: Location of the ressource
          schema:
            type: string
          example: /api/ufr_asso/v1/users/MirorEdge38/organisations"
      content:
        application/json:
          schema:
            type: object
            required:
              - _pagination
              - _embedded
            properties:
              _links:
                type: object
                properties:
                  self:
                    type: object
                  first:
                    type: object
                  last:
                    type: object
                required:
                  - self
                  - first
                  - last
              _pagination:
                type: object
                properties:
                  totalElements:
                    type: integer
                  page:
                    type: integer
                  pageSize:
                    type: integer
                required:
                  - page
                  - pageSize
              _embedded:
                type: object
                required:
                  - organisations
                properties:
                  organisations:
                    description: List of 'Organisation'
                    type: array
                    items :
                      $ref: '#/components/schemas/OrganisationFound'
          examples:
            ListOfOrganisationsOfUserFound_PageBasedPagination:
              $ref: '#/components/examples/ListOfOrganisationsOfUserFound_PageBasedPagination'

# Organisation -----------------------------------------------------

    # 200 - OK - Organisation found --------------------------------
    OrganisationFound:
      description: Ressource 'Organisation' found
      headers:
        Location: 
          description: Location of the ressource
          schema:
            type: string
          example: /api/ufr_asso/v1/organisations/12345678901234
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/OrganisationFound'
          examples:
            OrganisationFound:
              $ref: '#/components/examples/OrganisationFound'

    # 200 - OK - List of Organisations found --------------------------------
    ListOfOrganisationsFound_PageBasedPagination:
      description: List of 'Organisation' found, "Page" based pagination
      headers:
        Location: 
          description: Location of the ressource
          schema:
            type: string
          example: /api/ufr_asso/v1/organisations/
      content:
        application/json:
          schema:
            type: object
            required:
              - _pagination
              - _embedded
            properties:
              _links:
                type: object
                properties:
                  self:
                    type: object
                  first:
                    type: object
                  last:
                    type: object
                required:
                  - self
                  - first
                  - last
              _pagination:
                type: object
                properties:
                  totalElements:
                    type: integer
                  page:
                    type: integer
                  pageSize:
                    type: integer
                required:
                  - page
                  - pageSize
              _embedded:
                type: object
                required:
                  - organisations
                properties:
                  organisations:
                    description: List of 'Organisation'
                    type: array
                    items :
                      $ref: '#/components/schemas/OrganisationFound'
          examples:
            ListOfOrganisationsFound_PageBasedPagination:
              $ref: '#/components/examples/ListOfOrganisationsFound_PageBasedPagination'

    # 200 - OK - List of Opening hours of Organisation found --------------------------------
    ListOfOpeningHoursOfOrganisationFound_PageBasedPagination:
      description: List of 'OpeningHours' in 'Organisation' found, "Page" based pagination
      headers:
        Location: 
          description: Location of the ressource
          schema:
            type: string
          example:
            /api/ufr_asso/v1/organisations/12482313546354/opening-hours
      content:
        application/json:
          schema:
            type: object
            required:
              - _pagination
              - _embedded
            properties:
              _links:
                type: object
                properties:
                  self:
                    type: object
                  first:
                    type: object
                  last:
                    type: object
                required:
                  - self
                  - first
                  - last
              _pagination:
                type: object
                properties:
                  totalElements:
                    type: integer
                  page:
                    type: integer
                  pageSize:
                    type: integer
                required:
                  - page
                  - pageSize
              _embedded:
                type: object
                required:
                  - openingHours
                properties:
                  openingHours:
                    description: List of 'Opening hour' in the 'Organisation'
                    type: array
                    items:
                      allOf:
                        - type: object
                          required:
                            - openingHourId
                          properties:
                            # Opening Hour Unique ID
                            openingHourID:
                              description: Technical Unique ID of the 'OpeningHour' (Base36 encoding) (https://en.wikipedia.org/wiki/Base36)
                              type: string
                              minLength: 1
                              maxLength: 8
                              example: "aw158j"
                        - $ref: '#/components/schemas/OpeningHour'
          examples:
            ListOfOpeningHoursOfOrganisationFound_PageBasedPagination:
              $ref: '#/components/examples/ListOfOpeningHoursOfOrganisationFound_PageBasedPagination'
 
    # 200 - OK - List of Event of Organisation found --------------------------------
    ListOfEventsOfOrganisationFound_PageBasedPagination:
      description: List of 'Event' in 'Organisation' found, "Page" based pagination
      headers:
        Location: 
          description: Location of the ressource
          schema:
            type: string
          example:
            /api/ufr_asso/v1/organisations/12482313546354/events
      content:
        application/json:
          schema:
            type: object
            required:
              - _pagination
              - _embedded
            properties:
              _links:
                type: object
                properties:
                  self:
                    type: object
                  first:
                    type: object
                  last:
                    type: object
                required:
                  - self
                  - first
                  - last
              _pagination:
                type: object
                properties:
                  totalElements:
                    type: integer
                  page:
                    type: integer
                  pageSize:
                    type: integer
                required:
                  - page
                  - pageSize
              _embedded:
                type: object
                required:
                  - events
                properties:
                  events:
                    description: List of 'Event' in the 'Organisation'
                    type: array
                    items:
                     allOf:
                       - type: object
                         required:
                           - eventID
                         properties:
                           # Event Unique ID
                           eventId:
                             description: Technical Unique ID of the 'Event' (Base36 encoding) (https://en.wikipedia.org/wiki/Base36)
                             type: string
                             minLength: 1
                             maxLength: 8
                             example: "1aw56"
                       - $ref: '#/components/schemas/Event'
          examples:
            ListOfEventsOfOrganisationFound_PageBasedPagination:
              $ref: '#/components/examples/ListOfEventsOfOrganisationFound_PageBasedPagination'

    # 200 - OK - List of Newsletter of Organisation found --------------------------------
    ListOfNewslettersOfOrganisationFound_PageBasedPagination:
      description: List of 'Newsletter' in 'Organisation' found, "Page" based pagination
      headers:
        Location: 
          description: Location of the ressource
          schema:
            type: string
          example:
            /api/ufr_asso/v1/organisations/12482313546354/newsletters
      content:
        application/json:
          schema:
            type: object
            required:
              - _pagination
              - _embedded
            properties:
              _links:
                type: object
                properties:
                  self:
                    type: object
                  first:
                    type: object
                  last:
                    type: object
                required:
                  - self
                  - first
                  - last
              _pagination:
                type: object
                properties:
                  totalElements:
                    type: integer
                  page:
                    type: integer
                  pageSize:
                    type: integer
                required:
                  - page
                  - pageSize
              _embedded:
                type: object
                required:
                  - events
                properties:
                  events:
                    description: List of 'Newsletter' in the 'Organisation'
                    type: array
                    items:
                     allOf:
                       - type: object
                         required:
                           - newsletterId
                         properties:
                           # Newsletter Unique ID
                           newsletterId:
                             description: Technical Unique ID of the 'Newsletter' (Base36 encoding) (https://en.wikipedia.org/wiki/Base36)
                             type: string
                             minLength: 1
                             maxLength: 8
                             example: "1aw56"
                       - $ref: '#/components/schemas/Newsletter'
          examples:
            ListOfNewslettersOfOrganisationFound_PageBasedPagination:
              $ref: '#/components/examples/ListOfNewslettersOfOrganisationFound_PageBasedPagination'

    # 200 - OK - List of Book entries of Organisation found --------------------------------
    ListOfBookEntriesOfOrganisationFound_PageBasedPagination:
      description: List of 'BookEntry' in 'Organisation' found, "Page" based pagination
      headers:
        Location: 
          description: Location of the ressource
          schema:
            type: string
          example:
            /api/ufr_asso/v1/organisations/12482313546354/book-entries
      content:
        application/json:
          schema:
            type: object
            required:
              - _pagination
              - _embedded
            properties:
              _links:
                type: object
                properties:
                  self:
                    type: object
                  first:
                    type: object
                  last:
                    type: object
                required:
                  - self
                  - first
                  - last
              _pagination:
                type: object
                properties:
                  totalElements:
                    type: integer
                  page:
                    type: integer
                  pageSize:
                    type: integer
                required:
                  - page
                  - pageSize
              _embedded:
                type: object
                required:
                  - bookEntries
                properties:
                  bookEntries:
                    description: List of 'BookEntry' in the 'Organisation'
                    type: array
                    items:
                     allOf:
                       - type: object
                         required:
                           - bookEntryId
                         properties:
                           # Book Entry Unique ID
                           bookEntryId:
                             description: Technical Unique ID of the 'BookEntry' (Base36 encoding) (https://en.wikipedia.org/wiki/Base36)
                             type: string
                             minLength: 1
                             maxLength: 8
                             example: "1aw56"
                       - $ref: '#/components/schemas/BookEntry'
          examples:
            ListOfBookEntriesOfOrganisationFound_PageBasedPagination:
              $ref: '#/components/examples/ListOfBookEntriesOfOrganisationFound_PageBasedPagination'

    # 200 - OK - List of Users in Organisation found --------------------------------
    ListOfUsersInOrganisationFound_PageBasedPagination:
      description: List of 'Users' in 'Organisation' found, "Page" based pagination
      headers:
        Location: 
          description: Location of the ressource
          schema:
            type: string
          example:
            - /api/ufr_asso/v1/organisations/12345678901234/users
            - /api/ufr_asso/v1/organisations/12482313546354/users?roles=CANDIDATE&embed=(roles)&fields=pseudo,firstName,lastName&page=10&pageSize=2
      content:
        application/json:
          schema:
            type: object
            required:
              - _pagination
              - _embedded
            properties:
              _links:
                type: object
                properties:
                  self:
                    type: object
                  first:
                    type: object
                  last:
                    type: object
                required:
                  - self
                  - first
                  - last
              _pagination:
                type: object
                properties:
                  totalElements:
                    type: integer
                  page:
                    type: integer
                  pageSize:
                    type: integer
                required:
                  - page
                  - pageSize
              _embedded:
                type: object
                required:
                  - users
                properties:
                  users:
                    description: List of 'Users' in the 'Organisation'
                    type: array
                    items:
                      allOf:
                        - $ref: '#/components/schemas/User'
                        - properties:
                            roles:
                              $ref: '#/components/schemas/RoleType'
          examples:
            ListOfUsersInOrganisationFound_PageBasedPagination:
              $ref: '#/components/examples/ListOfUsersInOrganisationFound_PageBasedPagination'
            ListOfUsersInOrganisationFilteredByRolesFound_PageBasedPagination:
              $ref: '#/components/examples/ListOfUsersInOrganisationFilteredByRolesFound_PageBasedPagination'
 
    # 201 - Created - Organisation created --------------------------------
    OrganisationCreated:
      description: Ressource 'Organisation' created
      headers:
        X-Transaction-ID:
          description: Current transaction identifier
          required: false
          schema:
            type: string
            format: uuid
            minLength: 36
            maxLength: 36
          example: 123e4567-e89b-12d3-a456-426655440000
        ETag:
          description: ETag (https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/ETag)
          required: false
          schema:
            type: string
            format: uuid
            minLength: 36
            maxLength: 36
          example: 123e4567-e89b-12d3-a456-426655440000
        Last-Modified:
          description: Last Modified date (Create/Update) (https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Last-Modified)
          required: false
          schema:
            type: string
            format: date-time
            minLength: 19
            maxLength: 29
          example: 2019-09-18T23:56:16.000Z
        Location:
          description: Location of the ressource
          required: false
          schema:
            type: string
          example: "/api/ufr_asso/v1/organisations/12345678901234"
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/OrganisationCreated'
          examples:
            OrganisationCreated:
              $ref: '#/components/examples/OrganisationCreated'

# Opening hour -----------------------------------------------------

    # 200 - OK - Opening hour found --------------------------------
    OpeningHourFound:
      description: Ressource 'OpeningHour' found
      headers:
        Location: 
          description: Location of the ressource
          schema:
            type: string
          example: /api/ufr_asso/v1/opening-hours/aw158j
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/OpeningHourFound'
          examples:
            OpeningHourFound:
              $ref: '#/components/examples/OpeningHourFound'

    # 201 - Created - OpeningHour created --------------------------------
    OpeningHourCreated:
      description: Ressource 'OpeningHour' created
      headers:
        X-Transaction-ID:
          description: Current transaction identifier
          required: false
          schema:
            type: string
            format: uuid
            minLength: 36
            maxLength: 36
          example: 123e4567-e89b-12d3-a456-426655440000
        ETag:
          description: ETag (https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/ETag)
          required: false
          schema:
            type: string
            format: uuid
            minLength: 36
            maxLength: 36
          example: 123e4567-e89b-12d3-a456-426655440000
        Last-Modified:
          description: Last Modified date (Create/Update) (https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Last-Modified)
          required: false
          schema:
            type: string
            format: date-time
            minLength: 19
            maxLength: 29
          example: 2019-09-18T23:56:16.000Z
        Location:
          description: Location of the ressource
          required: false
          schema:
            type: string
          example: "/api/ufr_asso/v1/opening-hours/aw158j"
      content:
        application/json:
          schema:
              $ref: '#/components/schemas/OpeningHourCreated'
          examples:
            OrganisationCreated:
              $ref: '#/components/examples/OpeningHourCreated'

# Book entry -----------------------------------------------------

    # 200 - OK - BookEntry found --------------------------------
    BookEntryFound:
      description: Ressource 'BookEntry' found
      headers:
        Location: 
          description: Location of the ressource
          schema:
            type: string
          example: /api/ufr_asso/v1/book-entries/tyf5
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/BookEntryFound'
          examples:
            BookEntryFound:
              $ref: '#/components/examples/BookEntryFound'

    # 201 - Created - BookEntry created --------------------------------
    BookEntryCreated:
      description: Ressource 'BookEntry' created
      headers:
        X-Transaction-ID:
          description: Current transaction identifier
          required: false
          schema:
            type: string
            format: uuid
            minLength: 36
            maxLength: 36
          example: 123e4567-e89b-12d3-a456-426655440000
        ETag:
          description: ETag (https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/ETag)
          required: false
          schema:
            type: string
            format: uuid
            minLength: 36
            maxLength: 36
          example: 123e4567-e89b-12d3-a456-426655440000
        Last-Modified:
          description: Last Modified date (Create/Update) (https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Last-Modified)
          required: false
          schema:
            type: string
            format: date-time
            minLength: 19
            maxLength: 29
          example: 2019-09-18T23:56:16.000Z
        Location:
          description: Location of the ressource
          required: false
          schema:
            type: string
          example: "/api/ufr_asso/v1/book-entries/tyf5"
      content:
        application/json:
          schema:
              $ref: '#/components/schemas/BookEntryCreated'
          examples:
            BookEntryCreated:
              $ref: '#/components/examples/BookEntryCreated'

# Newsletter -----------------------------------------------------

    # 200 - OK - Newsletter found --------------------------------
    NewsletterFound:
      description: Ressource 'Newsletter' found
      headers:
        Location: 
          description: Location of the ressource
          schema:
            type: string
          example: /api/ufr_asso/v1/newsletters/nslt
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/NewsletterFound'
          examples:
            OpeningHourFound:
              $ref: '#/components/examples/NewsletterFound'

    # 201 - Created - Newsletter created --------------------------------
    NewsletterCreated:
      description: Ressource 'Newsletter' created
      headers:
        X-Transaction-ID:
          description: Current transaction identifier
          required: false
          schema:
            type: string
            format: uuid
            minLength: 36
            maxLength: 36
          example: 123e4567-e89b-12d3-a456-426655440000
        ETag:
          description: ETag (https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/ETag)
          required: false
          schema:
            type: string
            format: uuid
            minLength: 36
            maxLength: 36
          example: 123e4567-e89b-12d3-a456-426655440000
        Last-Modified:
          description: Last Modified date (Create/Update) (https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Last-Modified)
          required: false
          schema:
            type: string
            format: date-time
            minLength: 19
            maxLength: 29
          example: 2019-09-18T23:56:16.000Z
        Location:
          description: Location of the ressource
          required: false
          schema:
            type: string
          example: "/api/ufr_asso/v1/newsletters/nslt"
      content:
        application/json:
          schema:
              $ref: '#/components/schemas/NewsletterCreated'
          examples:
            NewsletterCreated:
              $ref: '#/components/examples/NewsletterCreated'

# Event -----------------------------------------------------

    # 200 - OK - Event found --------------------------------
    EventFound:
      description: Ressource 'Event' found
      headers:
        Location: 
          description: Location of the ressource
          schema:
            type: string
          example: /api/ufr_asso/v1/events/1aw56
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/EventFound'
          examples:
            EventFound:
              $ref: '#/components/examples/EventFound'

    # 201 - Created - Event created --------------------------------
    EventCreated:
      description: Ressource 'Event' created
      headers:
        X-Transaction-ID:
          description: Current transaction identifier
          required: false
          schema:
            type: string
            format: uuid
            minLength: 36
            maxLength: 36
          example: 123e4567-e89b-12d3-a456-426655440000
        ETag:
          description: ETag (https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/ETag)
          required: false
          schema:
            type: string
            format: uuid
            minLength: 36
            maxLength: 36
          example: 123e4567-e89b-12d3-a456-426655440000
        Last-Modified:
          description: Last Modified date (Create/Update) (https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Last-Modified)
          required: false
          schema:
            type: string
            format: date-time
            minLength: 19
            maxLength: 29
          example: 2019-09-18T23:56:16.000Z
        Location:
          description: Location of the ressource
          required: false
          schema:
            type: string
          example: "/api/ufr_asso/v1/events/1aw56"
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/EventCreated'
          examples:
            EventCreated:
              $ref: '#/components/examples/EventCreated'

# Authenticate -----------------------------------------------------

    # 201 - Created - Token created --------------------------------
    TokenCreated:
      description: Ressource 'Token' created
      headers:
        X-Transaction-ID:
          description: Current transaction identifier
          required: false
          schema:
            type: string
            format: uuid
            minLength: 36
            maxLength: 36
          example: 123e4567-e89b-12d3-a456-426655440000
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/TokenCreated'
          examples:
            TokenCreated:
              $ref: '#/components/examples/TokenCreated'

# Others -----------------------------------------------------

    # 204
    NoContent:
      description: No Content
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Errors'

     # 206
#    PartialContent:
#      description: Partial Content
#      content:
#        application/json:
#          schema:
#            $ref: '#/components/schemas/Errors'

     # 208
#    AlreadyReported:
#      description: Already Reported
#      content:
#        application/json:
#          schema:
#            $ref: '#/components/schemas/Errors'

     # 304
#    NotModified:
#      description: Not Modified
#      content:
#        application/json:
#          schema:
#            $ref: '#/components/schemas/Errors'
           
    # 400
    BadRequest:
      description: BadRequest
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Errors'

    # 401
    Unauthorized:
      description: Unauthorized
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Errors'
    # 403
    Forbidden:
      description: Forbidden
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Errors'

    # 404
    NotFound:
      description: Not Found
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Errors'
          example:
            errors:
              - errorCode: "USR_ASSO.API.DATA_NOT_FOUND"
                errorMessage: "API called by the User '{1}' : No data is found for Event '{2}'"
                errorLevel: ERROR
                errorType: TEC
                errorParams:
                  - "T124Z"
                  - "G18A8"
                documentationUrl: https://github.com/Miroredge/UFR_Asso/Documents/Errors/NOT.FOUND
                tips: Check your URI

    # 422
    UnprocessableEntity:
      description: Unprocessable Entity
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Errors'

    # 429
    TooManyRequests:
      description: Too Many Requests
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Errors'

    # 500
    InternalError:
      description: Internal Error
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Errors'

    # 501
    NotImplemented:
      description: Not Implemented
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Errors'

    # 502
    BadGateway:
      description: Bad Gateway
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Errors'

    # 503
    ServiceUnavailable:
      description: Service Unavailable
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Errors'

############################################################
#                        S E C U R I T Y                   #
############################################################

  securitySchemes:
  # defines the security details
    ApiKey:
    # mandatory values for apiKey are: type, name, in
      description: API key
      type: apiKey
      in: header
      name: apikey
    OauthSecurity:
    # all following values for oauth2 are mandatory
    # https://swagger.io/docs/specification/authentication/oauth2/
      description: This API uses OAuth 2
      type: oauth2
      flows:
        authorizationCode:
          authorizationUrl: 'https://???/nidp/oauth/nam/authz'
          tokenUrl: 'https://???/nidp/oauth/nam/token'
          scopes: 
            All: All caller of the API
            Application_Admin: Global application Administrator
            Organisation_Admin: Administrator of an Organisation
            Organisation_Member: Member of an Organisation
            Organisation_Candidate: Candidate to an Organisation
            Organisation_Refused: Registration to an Organisation refused
            Organisation_President: President of an Organisation
            Organisation_VicePresident: Vice-President of an Organisation
            Organisation_Secretary: Secretary of an Organisation
            Organisation_Treasurer: Treasurer of an Organisation

security:
  # defines the security on every path. The details must be set in securityDefinitions.
  - ApiKey: []
  - OauthSecurity: []
